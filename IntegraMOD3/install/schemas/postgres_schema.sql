/*
 * DO NOT EDIT THIS FILE, IT IS GENERATED
 *
 * To change the contents of this file, edit
 * phpBB/develop/create_schema_files.php and
 * run it.
 */

BEGIN;

/*
	Domain definition
*/
CREATE DOMAIN varchar_ci AS varchar(255) NOT NULL DEFAULT ''::character varying;

/*
	Operation Functions
*/
CREATE FUNCTION _varchar_ci_equal(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) = LOWER($2)' LANGUAGE SQL STRICT;
CREATE FUNCTION _varchar_ci_not_equal(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) != LOWER($2)' LANGUAGE SQL STRICT;
CREATE FUNCTION _varchar_ci_less_than(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) < LOWER($2)' LANGUAGE SQL STRICT;
CREATE FUNCTION _varchar_ci_less_equal(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) <= LOWER($2)' LANGUAGE SQL STRICT;
CREATE FUNCTION _varchar_ci_greater_than(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) > LOWER($2)' LANGUAGE SQL STRICT;
CREATE FUNCTION _varchar_ci_greater_equals(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) >= LOWER($2)' LANGUAGE SQL STRICT;

/*
	Operators
*/
CREATE OPERATOR <(
  PROCEDURE = _varchar_ci_less_than,
  LEFTARG = varchar_ci,
  RIGHTARG = varchar_ci,
  COMMUTATOR = >,
  NEGATOR = >=,
  RESTRICT = scalarltsel,
  JOIN = scalarltjoinsel);

CREATE OPERATOR <=(
  PROCEDURE = _varchar_ci_less_equal,
  LEFTARG = varchar_ci,
  RIGHTARG = varchar_ci,
  COMMUTATOR = >=,
  NEGATOR = >,
  RESTRICT = scalarltsel,
  JOIN = scalarltjoinsel);

CREATE OPERATOR >(
  PROCEDURE = _varchar_ci_greater_than,
  LEFTARG = varchar_ci,
  RIGHTARG = varchar_ci,
  COMMUTATOR = <,
  NEGATOR = <=,
  RESTRICT = scalargtsel,
  JOIN = scalargtjoinsel);

CREATE OPERATOR >=(
  PROCEDURE = _varchar_ci_greater_equals,
  LEFTARG = varchar_ci,
  RIGHTARG = varchar_ci,
  COMMUTATOR = <=,
  NEGATOR = <,
  RESTRICT = scalargtsel,
  JOIN = scalargtjoinsel);

CREATE OPERATOR <>(
  PROCEDURE = _varchar_ci_not_equal,
  LEFTARG = varchar_ci,
  RIGHTARG = varchar_ci,
  COMMUTATOR = <>,
  NEGATOR = =,
  RESTRICT = neqsel,
  JOIN = neqjoinsel);

CREATE OPERATOR =(
  PROCEDURE = _varchar_ci_equal,
  LEFTARG = varchar_ci,
  RIGHTARG = varchar_ci,
  COMMUTATOR = =,
  NEGATOR = <>,
  RESTRICT = eqsel,
  JOIN = eqjoinsel,
  HASHES,
  MERGES,
  SORT1= <);

/*
	Table: 'phpbb_acl_groups'
*/
CREATE TABLE phpbb_acl_groups (
	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	auth_option_id INT4 DEFAULT '0' NOT NULL CHECK (auth_option_id >= 0),
	auth_role_id INT4 DEFAULT '0' NOT NULL CHECK (auth_role_id >= 0),
	auth_setting INT2 DEFAULT '0' NOT NULL,
	is_kb INT2 DEFAULT '0' NOT NULL CHECK (is_kb >= 0)
);

CREATE INDEX phpbb_acl_groups_group_id ON phpbb_acl_groups (group_id);
CREATE INDEX phpbb_acl_groups_auth_opt_id ON phpbb_acl_groups (auth_option_id);
CREATE INDEX phpbb_acl_groups_auth_role_id ON phpbb_acl_groups (auth_role_id);

/*
	Table: 'phpbb_acl_options'
*/
CREATE SEQUENCE phpbb_acl_options_seq;

CREATE TABLE phpbb_acl_options (
	auth_option_id INT4 DEFAULT nextval('phpbb_acl_options_seq'),
	auth_option varchar(50) DEFAULT '' NOT NULL,
	is_global INT2 DEFAULT '0' NOT NULL CHECK (is_global >= 0),
	is_local INT2 DEFAULT '0' NOT NULL CHECK (is_local >= 0),
	founder_only INT2 DEFAULT '0' NOT NULL CHECK (founder_only >= 0),
	PRIMARY KEY (auth_option_id)
);

CREATE UNIQUE INDEX phpbb_acl_options_auth_option ON phpbb_acl_options (auth_option);

/*
	Table: 'phpbb_acl_roles'
*/
CREATE SEQUENCE phpbb_acl_roles_seq;

CREATE TABLE phpbb_acl_roles (
	role_id INT4 DEFAULT nextval('phpbb_acl_roles_seq'),
	role_name varchar(255) DEFAULT '' NOT NULL,
	role_description varchar(4000) DEFAULT '' NOT NULL,
	role_type varchar(10) DEFAULT '' NOT NULL,
	role_order INT2 DEFAULT '0' NOT NULL CHECK (role_order >= 0),
	PRIMARY KEY (role_id)
);

CREATE INDEX phpbb_acl_roles_role_type ON phpbb_acl_roles (role_type);
CREATE INDEX phpbb_acl_roles_role_order ON phpbb_acl_roles (role_order);

/*
	Table: 'phpbb_acl_roles_data'
*/
CREATE TABLE phpbb_acl_roles_data (
	role_id INT4 DEFAULT '0' NOT NULL CHECK (role_id >= 0),
	auth_option_id INT4 DEFAULT '0' NOT NULL CHECK (auth_option_id >= 0),
	auth_setting INT2 DEFAULT '0' NOT NULL,
	PRIMARY KEY (role_id, auth_option_id)
);

CREATE INDEX phpbb_acl_roles_data_ath_op_id ON phpbb_acl_roles_data (auth_option_id);

/*
	Table: 'phpbb_acl_users'
*/
CREATE TABLE phpbb_acl_users (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	auth_option_id INT4 DEFAULT '0' NOT NULL CHECK (auth_option_id >= 0),
	auth_role_id INT4 DEFAULT '0' NOT NULL CHECK (auth_role_id >= 0),
	auth_setting INT2 DEFAULT '0' NOT NULL,
	is_kb INT2 DEFAULT '0' NOT NULL CHECK (is_kb >= 0)
);

CREATE INDEX phpbb_acl_users_user_id ON phpbb_acl_users (user_id);
CREATE INDEX phpbb_acl_users_auth_option_id ON phpbb_acl_users (auth_option_id);
CREATE INDEX phpbb_acl_users_auth_role_id ON phpbb_acl_users (auth_role_id);

/*
	Table: 'phpbb_ads'
*/
CREATE SEQUENCE phpbb_ads_seq;

CREATE TABLE phpbb_ads (
	ad_id INT4 DEFAULT nextval('phpbb_ads_seq'),
	ad_name varchar(255) DEFAULT '' NOT NULL,
	ad_code varchar(4000) DEFAULT '' NOT NULL,
	ad_views INT8 DEFAULT '0' NOT NULL,
	ad_priority INT2 DEFAULT '5' NOT NULL CHECK (ad_priority >= 0),
	ad_enabled INT2 DEFAULT '1' NOT NULL CHECK (ad_enabled >= 0),
	all_forums INT2 DEFAULT '0' NOT NULL CHECK (all_forums >= 0),
	ad_clicks INT8 DEFAULT '0' NOT NULL,
	ad_note TEXT DEFAULT '' NOT NULL,
	ad_time INT4 DEFAULT '0' NOT NULL CHECK (ad_time >= 0),
	ad_time_end INT4 DEFAULT '0' NOT NULL CHECK (ad_time_end >= 0),
	ad_view_limit INT8 DEFAULT '0' NOT NULL,
	ad_click_limit INT8 DEFAULT '0' NOT NULL,
	ad_owner INT4 DEFAULT '0' NOT NULL CHECK (ad_owner >= 0),
	PRIMARY KEY (ad_id)
);

CREATE INDEX phpbb_ads_ad_priority ON phpbb_ads (ad_priority);
CREATE INDEX phpbb_ads_ad_enabled ON phpbb_ads (ad_enabled);
CREATE INDEX phpbb_ads_ad_owner ON phpbb_ads (ad_owner);

/*
	Table: 'phpbb_ads_forums'
*/
CREATE TABLE phpbb_ads_forums (
	ad_id INT4 DEFAULT '0' NOT NULL CHECK (ad_id >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0)
);

CREATE INDEX phpbb_ads_forums_ad_id ON phpbb_ads_forums (ad_id);
CREATE INDEX phpbb_ads_forums_forum_id ON phpbb_ads_forums (forum_id);

/*
	Table: 'phpbb_ads_groups'
*/
CREATE TABLE phpbb_ads_groups (
	ad_id INT4 DEFAULT '0' NOT NULL CHECK (ad_id >= 0),
	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0)
);

CREATE INDEX phpbb_ads_groups_ad_id ON phpbb_ads_groups (ad_id);
CREATE INDEX phpbb_ads_groups_group_id ON phpbb_ads_groups (group_id);

/*
	Table: 'phpbb_ads_in_positions'
*/
CREATE TABLE phpbb_ads_in_positions (
	ad_id INT4 DEFAULT '0' NOT NULL CHECK (ad_id >= 0),
	position_id INT4 DEFAULT '0' NOT NULL CHECK (position_id >= 0),
	ad_priority INT2 DEFAULT '5' NOT NULL,
	ad_enabled	 INT2 DEFAULT '1' NOT NULL,
	all_forums	 INT2 DEFAULT '0' NOT NULL
);

CREATE INDEX phpbb_ads_in_positions_ad_position ON phpbb_ads_in_positions (ad_id, position_id);
CREATE INDEX phpbb_ads_in_positions_ad_priority ON phpbb_ads_in_positions (ad_priority);
CREATE INDEX phpbb_ads_in_positions_ad_enabled ON phpbb_ads_in_positions (ad_enabled);
CREATE INDEX phpbb_ads_in_positions_all_forums ON phpbb_ads_in_positions (all_forums);

/*
	Table: 'phpbb_ads_positions'
*/
CREATE SEQUENCE phpbb_ads_positions_seq;

CREATE TABLE phpbb_ads_positions (
	position_id INT4 DEFAULT nextval('phpbb_ads_positions_seq'),
	lang_key varchar(4000) DEFAULT '' NOT NULL,
	PRIMARY KEY (position_id)
);


/*
	Table: 'phpbb_attachments'
*/
CREATE SEQUENCE phpbb_attachments_seq;

CREATE TABLE phpbb_attachments (
	attach_id INT4 DEFAULT nextval('phpbb_attachments_seq'),
	post_msg_id INT4 DEFAULT '0' NOT NULL CHECK (post_msg_id >= 0),
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	in_message INT2 DEFAULT '0' NOT NULL CHECK (in_message >= 0),
	poster_id INT4 DEFAULT '0' NOT NULL CHECK (poster_id >= 0),
	is_orphan INT2 DEFAULT '1' NOT NULL CHECK (is_orphan >= 0),
	physical_filename varchar(255) DEFAULT '' NOT NULL,
	real_filename varchar(255) DEFAULT '' NOT NULL,
	download_count INT4 DEFAULT '0' NOT NULL CHECK (download_count >= 0),
	attach_comment varchar(4000) DEFAULT '' NOT NULL,
	extension varchar(100) DEFAULT '' NOT NULL,
	mimetype varchar(100) DEFAULT '' NOT NULL,
	filesize INT4 DEFAULT '0' NOT NULL CHECK (filesize >= 0),
	filetime INT4 DEFAULT '0' NOT NULL CHECK (filetime >= 0),
	thumbnail INT2 DEFAULT '0' NOT NULL CHECK (thumbnail >= 0),
	PRIMARY KEY (attach_id)
);

CREATE INDEX phpbb_attachments_filetime ON phpbb_attachments (filetime);
CREATE INDEX phpbb_attachments_post_msg_id ON phpbb_attachments (post_msg_id);
CREATE INDEX phpbb_attachments_topic_id ON phpbb_attachments (topic_id);
CREATE INDEX phpbb_attachments_poster_id ON phpbb_attachments (poster_id);
CREATE INDEX phpbb_attachments_is_orphan ON phpbb_attachments (is_orphan);

/*
	Table: 'phpbb_banlist'
*/
CREATE SEQUENCE phpbb_banlist_seq;

CREATE TABLE phpbb_banlist (
	ban_id INT4 DEFAULT nextval('phpbb_banlist_seq'),
	ban_userid INT4 DEFAULT '0' NOT NULL CHECK (ban_userid >= 0),
	ban_ip varchar(40) DEFAULT '' NOT NULL,
	ban_email varchar(100) DEFAULT '' NOT NULL,
	ban_start INT4 DEFAULT '0' NOT NULL CHECK (ban_start >= 0),
	ban_end INT4 DEFAULT '0' NOT NULL CHECK (ban_end >= 0),
	ban_exclude INT2 DEFAULT '0' NOT NULL CHECK (ban_exclude >= 0),
	ban_reason varchar(255) DEFAULT '' NOT NULL,
	ban_give_reason varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (ban_id)
);

CREATE INDEX phpbb_banlist_ban_end ON phpbb_banlist (ban_end);
CREATE INDEX phpbb_banlist_ban_user ON phpbb_banlist (ban_userid, ban_exclude);
CREATE INDEX phpbb_banlist_ban_email ON phpbb_banlist (ban_email, ban_exclude);
CREATE INDEX phpbb_banlist_ban_ip ON phpbb_banlist (ban_ip, ban_exclude);

/*
	Table: 'phpbb_bbcodes'
*/
CREATE TABLE phpbb_bbcodes (
	bbcode_id INT2 DEFAULT '0' NOT NULL CHECK (bbcode_id >= 0),
	bbcode_tag varchar(16) DEFAULT '' NOT NULL,
	bbcode_helpline varchar(255) DEFAULT '' NOT NULL,
	display_on_posting INT2 DEFAULT '0' NOT NULL CHECK (display_on_posting >= 0),
	bbcode_match varchar(4000) DEFAULT '' NOT NULL,
	bbcode_tpl TEXT DEFAULT '' NOT NULL,
	first_pass_match TEXT DEFAULT '' NOT NULL,
	first_pass_replace TEXT DEFAULT '' NOT NULL,
	second_pass_match TEXT DEFAULT '' NOT NULL,
	second_pass_replace TEXT DEFAULT '' NOT NULL,
	display_on_pm INT2 DEFAULT '1' NOT NULL CHECK (display_on_pm >= 0),
	display_on_sig INT2 DEFAULT '1' NOT NULL CHECK (display_on_sig >= 0),
	abbcode INT2 DEFAULT '0' NOT NULL CHECK (abbcode >= 0),
	bbcode_image varchar(255) DEFAULT '' NOT NULL,
	bbcode_order INT2 DEFAULT '0' NOT NULL CHECK (bbcode_order >= 0),
	bbcode_group varchar(255) DEFAULT '0' NOT NULL,
	PRIMARY KEY (bbcode_id)
);

CREATE INDEX phpbb_bbcodes_display_on_post ON phpbb_bbcodes (display_on_posting);
CREATE INDEX phpbb_bbcodes_display_order ON phpbb_bbcodes (bbcode_order);

/*
	Table: 'phpbb_blogs'
*/
CREATE SEQUENCE phpbb_blogs_seq;

CREATE TABLE phpbb_blogs (
	blog_id INT4 DEFAULT nextval('phpbb_blogs_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	user_ip varchar(40) DEFAULT '' NOT NULL,
	blog_subject varchar(255) DEFAULT '' NOT NULL,
	blog_text TEXT DEFAULT '' NOT NULL,
	blog_checksum varchar(32) DEFAULT '' NOT NULL,
	blog_time INT4 DEFAULT '0' NOT NULL CHECK (blog_time >= 0),
	blog_approved INT2 DEFAULT '1' NOT NULL CHECK (blog_approved >= 0),
	blog_reported INT2 DEFAULT '0' NOT NULL CHECK (blog_reported >= 0),
	enable_bbcode INT2 DEFAULT '1' NOT NULL CHECK (enable_bbcode >= 0),
	enable_smilies INT2 DEFAULT '1' NOT NULL CHECK (enable_smilies >= 0),
	enable_magic_url INT2 DEFAULT '1' NOT NULL CHECK (enable_magic_url >= 0),
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	blog_edit_time INT4 DEFAULT '0' NOT NULL CHECK (blog_edit_time >= 0),
	blog_edit_reason varchar(255) DEFAULT '' NOT NULL,
	blog_edit_user INT4 DEFAULT '0' NOT NULL CHECK (blog_edit_user >= 0),
	blog_edit_count INT2 DEFAULT '0' NOT NULL CHECK (blog_edit_count >= 0),
	blog_edit_locked INT2 DEFAULT '0' NOT NULL CHECK (blog_edit_locked >= 0),
	blog_deleted INT4 DEFAULT '0' NOT NULL CHECK (blog_deleted >= 0),
	blog_deleted_time INT4 DEFAULT '0' NOT NULL CHECK (blog_deleted_time >= 0),
	blog_read_count INT4 DEFAULT '1' NOT NULL CHECK (blog_read_count >= 0),
	blog_reply_count INT4 DEFAULT '0' NOT NULL CHECK (blog_reply_count >= 0),
	blog_real_reply_count INT4 DEFAULT '0' NOT NULL CHECK (blog_real_reply_count >= 0),
	blog_attachment INT2 DEFAULT '0' NOT NULL CHECK (blog_attachment >= 0),
	perm_guest INT2 DEFAULT '1' NOT NULL,
	perm_registered INT2 DEFAULT '2' NOT NULL,
	perm_foe INT2 DEFAULT '0' NOT NULL,
	perm_friend INT2 DEFAULT '2' NOT NULL,
	rating decimal(6,2) DEFAULT '0' NOT NULL,
	num_ratings INT4 DEFAULT '0' NOT NULL CHECK (num_ratings >= 0),
	poll_title varchar(255) DEFAULT '' NOT NULL,
	poll_start INT4 DEFAULT '0' NOT NULL CHECK (poll_start >= 0),
	poll_length INT4 DEFAULT '0' NOT NULL CHECK (poll_length >= 0),
	poll_max_options INT2 DEFAULT '1' NOT NULL,
	poll_last_vote INT4 DEFAULT '0' NOT NULL CHECK (poll_last_vote >= 0),
	poll_vote_change INT2 DEFAULT '0' NOT NULL CHECK (poll_vote_change >= 0),
	PRIMARY KEY (blog_id)
);

CREATE INDEX phpbb_blogs_user_id ON phpbb_blogs (user_id);
CREATE INDEX phpbb_blogs_user_ip ON phpbb_blogs (user_ip);
CREATE INDEX phpbb_blogs_blog_approved ON phpbb_blogs (blog_approved);
CREATE INDEX phpbb_blogs_blog_deleted ON phpbb_blogs (blog_deleted);
CREATE INDEX phpbb_blogs_perm_guest ON phpbb_blogs (perm_guest);
CREATE INDEX phpbb_blogs_perm_registered ON phpbb_blogs (perm_registered);
CREATE INDEX phpbb_blogs_perm_foe ON phpbb_blogs (perm_foe);
CREATE INDEX phpbb_blogs_perm_friend ON phpbb_blogs (perm_friend);
CREATE INDEX phpbb_blogs_rating ON phpbb_blogs (rating);

/*
	Table: 'phpbb_blogs_attachment'
*/
CREATE SEQUENCE phpbb_blogs_attachment_seq;

CREATE TABLE phpbb_blogs_attachment (
	attach_id INT4 DEFAULT nextval('phpbb_blogs_attachment_seq'),
	blog_id INT4 DEFAULT '0' NOT NULL CHECK (blog_id >= 0),
	reply_id INT4 DEFAULT '0' NOT NULL CHECK (reply_id >= 0),
	poster_id INT4 DEFAULT '0' NOT NULL CHECK (poster_id >= 0),
	is_orphan INT2 DEFAULT '1' NOT NULL CHECK (is_orphan >= 0),
	physical_filename varchar(255) DEFAULT '' NOT NULL,
	real_filename varchar(255) DEFAULT '' NOT NULL,
	download_count INT4 DEFAULT '0' NOT NULL CHECK (download_count >= 0),
	attach_comment varchar(4000) DEFAULT '' NOT NULL,
	extension varchar(100) DEFAULT '' NOT NULL,
	mimetype varchar(100) DEFAULT '' NOT NULL,
	filesize INT4 DEFAULT '0' NOT NULL CHECK (filesize >= 0),
	filetime INT4 DEFAULT '0' NOT NULL CHECK (filetime >= 0),
	thumbnail INT2 DEFAULT '0' NOT NULL CHECK (thumbnail >= 0),
	PRIMARY KEY (attach_id)
);

CREATE INDEX phpbb_blogs_attachment_blog_id ON phpbb_blogs_attachment (blog_id);
CREATE INDEX phpbb_blogs_attachment_reply_id ON phpbb_blogs_attachment (reply_id);
CREATE INDEX phpbb_blogs_attachment_filetime ON phpbb_blogs_attachment (filetime);
CREATE INDEX phpbb_blogs_attachment_poster_id ON phpbb_blogs_attachment (poster_id);
CREATE INDEX phpbb_blogs_attachment_is_orphan ON phpbb_blogs_attachment (is_orphan);

/*
	Table: 'phpbb_blogs_categories'
*/
CREATE SEQUENCE phpbb_blogs_categories_seq;

CREATE TABLE phpbb_blogs_categories (
	category_id INT4 DEFAULT nextval('phpbb_blogs_categories_seq'),
	parent_id INT4 DEFAULT '0' NOT NULL CHECK (parent_id >= 0),
	left_id INT4 DEFAULT '0' NOT NULL CHECK (left_id >= 0),
	right_id INT4 DEFAULT '0' NOT NULL CHECK (right_id >= 0),
	category_name varchar(255) DEFAULT '' NOT NULL,
	category_description TEXT DEFAULT '' NOT NULL,
	category_description_bitfield varchar(255) DEFAULT '' NOT NULL,
	category_description_uid varchar(8) DEFAULT '' NOT NULL,
	category_description_options INT4 DEFAULT '7' NOT NULL CHECK (category_description_options >= 0),
	rules TEXT DEFAULT '' NOT NULL,
	rules_bitfield varchar(255) DEFAULT '' NOT NULL,
	rules_uid varchar(8) DEFAULT '' NOT NULL,
	rules_options INT4 DEFAULT '7' NOT NULL CHECK (rules_options >= 0),
	blog_count INT4 DEFAULT '0' NOT NULL CHECK (blog_count >= 0),
	PRIMARY KEY (category_id)
);

CREATE INDEX phpbb_blogs_categories_left_right_id ON phpbb_blogs_categories (left_id, right_id);

/*
	Table: 'phpbb_blogs_in_categories'
*/
CREATE TABLE phpbb_blogs_in_categories (
	blog_id INT4 DEFAULT '0' NOT NULL CHECK (blog_id >= 0),
	category_id INT4 DEFAULT '0' NOT NULL CHECK (category_id >= 0),
	PRIMARY KEY (blog_id, category_id)
);


/*
	Table: 'phpbb_blogs_plugins'
*/
CREATE SEQUENCE phpbb_blogs_plugins_seq;

CREATE TABLE phpbb_blogs_plugins (
	plugin_id INT4 DEFAULT nextval('phpbb_blogs_plugins_seq'),
	plugin_name varchar(255) DEFAULT '' NOT NULL,
	plugin_enabled INT2 DEFAULT '0' NOT NULL CHECK (plugin_enabled >= 0),
	plugin_version varchar(100) DEFAULT '' NOT NULL,
	PRIMARY KEY (plugin_id)
);

CREATE INDEX phpbb_blogs_plugins_plugin_name ON phpbb_blogs_plugins (plugin_name);
CREATE INDEX phpbb_blogs_plugins_plugin_enabled ON phpbb_blogs_plugins (plugin_enabled);

/*
	Table: 'phpbb_blogs_poll_options'
*/
CREATE TABLE phpbb_blogs_poll_options (
	poll_option_id INT2 DEFAULT '0' NOT NULL,
	blog_id INT4 DEFAULT '0' NOT NULL CHECK (blog_id >= 0),
	poll_option_text varchar(4000) DEFAULT '' NOT NULL,
	poll_option_total INT4 DEFAULT '0' NOT NULL CHECK (poll_option_total >= 0)
);

CREATE INDEX phpbb_blogs_poll_options_poll_opt_id ON phpbb_blogs_poll_options (poll_option_id);
CREATE INDEX phpbb_blogs_poll_options_blog_id ON phpbb_blogs_poll_options (blog_id);

/*
	Table: 'phpbb_blogs_poll_votes'
*/
CREATE TABLE phpbb_blogs_poll_votes (
	blog_id INT4 DEFAULT '0' NOT NULL CHECK (blog_id >= 0),
	poll_option_id INT2 DEFAULT '0' NOT NULL,
	vote_user_id INT4 DEFAULT '0' NOT NULL CHECK (vote_user_id >= 0),
	vote_user_ip varchar(40) DEFAULT '' NOT NULL
);

CREATE INDEX phpbb_blogs_poll_votes_blog_id ON phpbb_blogs_poll_votes (blog_id);
CREATE INDEX phpbb_blogs_poll_votes_vote_user_id ON phpbb_blogs_poll_votes (vote_user_id);
CREATE INDEX phpbb_blogs_poll_votes_vote_user_ip ON phpbb_blogs_poll_votes (vote_user_ip);

/*
	Table: 'phpbb_blogs_ratings'
*/
CREATE TABLE phpbb_blogs_ratings (
	blog_id INT4 DEFAULT '0' NOT NULL CHECK (blog_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	rating INT4 DEFAULT '0' NOT NULL CHECK (rating >= 0),
	PRIMARY KEY (blog_id, user_id)
);


/*
	Table: 'phpbb_blogs_reply'
*/
CREATE SEQUENCE phpbb_blogs_reply_seq;

CREATE TABLE phpbb_blogs_reply (
	reply_id INT4 DEFAULT nextval('phpbb_blogs_reply_seq'),
	blog_id INT4 DEFAULT '0' NOT NULL CHECK (blog_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	user_ip varchar(40) DEFAULT '' NOT NULL,
	reply_subject varchar(255) DEFAULT '' NOT NULL,
	reply_text TEXT DEFAULT '' NOT NULL,
	reply_checksum varchar(32) DEFAULT '' NOT NULL,
	reply_time INT4 DEFAULT '0' NOT NULL CHECK (reply_time >= 0),
	reply_approved INT2 DEFAULT '1' NOT NULL CHECK (reply_approved >= 0),
	reply_reported INT2 DEFAULT '0' NOT NULL CHECK (reply_reported >= 0),
	enable_bbcode INT2 DEFAULT '1' NOT NULL CHECK (enable_bbcode >= 0),
	enable_smilies INT2 DEFAULT '1' NOT NULL CHECK (enable_smilies >= 0),
	enable_magic_url INT2 DEFAULT '1' NOT NULL CHECK (enable_magic_url >= 0),
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	reply_edit_time INT4 DEFAULT '0' NOT NULL CHECK (reply_edit_time >= 0),
	reply_edit_reason varchar(255) DEFAULT '' NOT NULL,
	reply_edit_user INT4 DEFAULT '0' NOT NULL CHECK (reply_edit_user >= 0),
	reply_edit_count INT4 DEFAULT '0' NOT NULL CHECK (reply_edit_count >= 0),
	reply_edit_locked INT2 DEFAULT '0' NOT NULL CHECK (reply_edit_locked >= 0),
	reply_deleted INT4 DEFAULT '0' NOT NULL CHECK (reply_deleted >= 0),
	reply_deleted_time INT4 DEFAULT '0' NOT NULL CHECK (reply_deleted_time >= 0),
	reply_attachment INT2 DEFAULT '0' NOT NULL CHECK (reply_attachment >= 0),
	PRIMARY KEY (reply_id)
);

CREATE INDEX phpbb_blogs_reply_blog_id ON phpbb_blogs_reply (blog_id);
CREATE INDEX phpbb_blogs_reply_user_id ON phpbb_blogs_reply (user_id);
CREATE INDEX phpbb_blogs_reply_user_ip ON phpbb_blogs_reply (user_ip);
CREATE INDEX phpbb_blogs_reply_reply_approved ON phpbb_blogs_reply (reply_approved);
CREATE INDEX phpbb_blogs_reply_reply_deleted ON phpbb_blogs_reply (reply_deleted);

/*
	Table: 'phpbb_blogs_subscription'
*/
CREATE TABLE phpbb_blogs_subscription (
	sub_user_id INT4 DEFAULT '0' NOT NULL CHECK (sub_user_id >= 0),
	sub_type INT4 DEFAULT '0' NOT NULL CHECK (sub_type >= 0),
	blog_id INT4 DEFAULT '0' NOT NULL CHECK (blog_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	PRIMARY KEY (sub_user_id, sub_type, blog_id, user_id)
);


/*
	Table: 'phpbb_blogs_users'
*/
CREATE TABLE phpbb_blogs_users (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	perm_guest INT2 DEFAULT '1' NOT NULL,
	perm_registered INT2 DEFAULT '2' NOT NULL,
	perm_foe INT2 DEFAULT '0' NOT NULL,
	perm_friend INT2 DEFAULT '2' NOT NULL,
	title varchar(255) DEFAULT '' NOT NULL,
	description TEXT DEFAULT '' NOT NULL,
	description_bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	description_bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	instant_redirect INT2 DEFAULT '1' NOT NULL CHECK (instant_redirect >= 0),
	blog_subscription_default INT4 DEFAULT '0' NOT NULL CHECK (blog_subscription_default >= 0),
	blog_style varchar(255) DEFAULT '' NOT NULL,
	blog_css TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (user_id)
);


/*
	Table: 'phpbb_blog_search_wordlist'
*/
CREATE SEQUENCE phpbb_blog_search_wordlist_seq;

CREATE TABLE phpbb_blog_search_wordlist (
	word_id INT4 DEFAULT nextval('phpbb_blog_search_wordlist_seq'),
	word_text varchar(255) DEFAULT '' NOT NULL,
	word_common INT2 DEFAULT '0' NOT NULL CHECK (word_common >= 0),
	word_count INT4 DEFAULT '0' NOT NULL CHECK (word_count >= 0),
	PRIMARY KEY (word_id)
);

CREATE UNIQUE INDEX phpbb_blog_search_wordlist_word_text ON phpbb_blog_search_wordlist (word_text);
CREATE INDEX phpbb_blog_search_wordlist_word_count ON phpbb_blog_search_wordlist (word_count);

/*
	Table: 'phpbb_bookmarks'
*/
CREATE TABLE phpbb_bookmarks (
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	PRIMARY KEY (topic_id, user_id)
);


/*
	Table: 'phpbb_bots'
*/
CREATE SEQUENCE phpbb_bots_seq;

CREATE TABLE phpbb_bots (
	bot_id INT4 DEFAULT nextval('phpbb_bots_seq'),
	bot_active INT2 DEFAULT '1' NOT NULL CHECK (bot_active >= 0),
	bot_name varchar(255) DEFAULT '' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	bot_agent varchar(255) DEFAULT '' NOT NULL,
	bot_ip varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (bot_id)
);

CREATE INDEX phpbb_bots_bot_active ON phpbb_bots (bot_active);

/*
	Table: 'phpbb_calendar'
*/
CREATE SEQUENCE phpbb_calendar_seq;

CREATE TABLE phpbb_calendar (
	event_id INT4 DEFAULT nextval('phpbb_calendar_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	event_name varchar(255) DEFAULT '' NOT NULL,
	event_desc TEXT DEFAULT '' NOT NULL,
	event_groups varchar(255) DEFAULT '' NOT NULL,
	group_cats INT2 DEFAULT '0' NOT NULL CHECK (group_cats >= 0),
	priv_users TEXT DEFAULT '' NOT NULL,
	enable_bbcode INT2 DEFAULT '1' NOT NULL,
	enable_html INT2 DEFAULT '1' NOT NULL,
	enable_smilies INT2 DEFAULT '1' NOT NULL,
	enable_magic_url INT2 DEFAULT '1' NOT NULL,
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	event_start INT4 DEFAULT NULL CHECK (event_start >= 0),
	event_end INT4 DEFAULT NULL CHECK (event_end >= 0),
	event_repeat VARCHAR(8) DEFAULT '' NOT NULL,
	invite_attendees INT2 DEFAULT 1 NOT NULL,
	event_attendees TEXT,
	event_non_attendees TEXT,
	PRIMARY KEY (event_id)
);


/*
	Table: 'phpbb_calendar_repeat_events'
*/
CREATE SEQUENCE phpbb_calendar_repeat_events_seq;

CREATE TABLE phpbb_calendar_repeat_events (
	id INT4 DEFAULT nextval('phpbb_calendar_repeat_events_seq'),
	repeat_id VARCHAR(8) DEFAULT '' NOT NULL,
	event_start_time INT4 DEFAULT NULL CHECK (event_start_time >= 0),
	event_end_time INT4 DEFAULT NULL CHECK (event_end_time >= 0),
	PRIMARY KEY (id)
);


/*
	Table: 'phpbb_captcha_answers'
*/
CREATE TABLE phpbb_captcha_answers (
	question_id INT4 DEFAULT '0' NOT NULL CHECK (question_id >= 0),
	answer_text varchar(255) DEFAULT '' NOT NULL
);

CREATE INDEX phpbb_captcha_answers_qid ON phpbb_captcha_answers (question_id);

/*
	Table: 'phpbb_captcha_questions'
*/
CREATE SEQUENCE phpbb_captcha_questions_seq;

CREATE TABLE phpbb_captcha_questions (
	question_id INT4 DEFAULT nextval('phpbb_captcha_questions_seq'),
	strict INT2 DEFAULT '0' NOT NULL CHECK (strict >= 0),
	lang_id INT4 DEFAULT '0' NOT NULL CHECK (lang_id >= 0),
	lang_iso varchar(30) DEFAULT '' NOT NULL,
	question_text varchar(4000) DEFAULT '' NOT NULL,
	PRIMARY KEY (question_id)
);

CREATE INDEX phpbb_captcha_questions_lang ON phpbb_captcha_questions (lang_iso);

/*
	Table: 'phpbb_cash'
*/
CREATE SEQUENCE phpbb_cash_seq;

CREATE TABLE phpbb_cash (
	cash_id INT4 DEFAULT nextval('phpbb_cash_seq'),
	cash_name varchar(255) DEFAULT '' NOT NULL,
	cash_value INT4 DEFAULT '1' NOT NULL CHECK (cash_value >= 0),
	cash_trade INT2 DEFAULT '1' NOT NULL CHECK (cash_trade >= 0),
	PRIMARY KEY (cash_id)
);


/*
	Table: 'phpbb_cash_amt'
*/
CREATE TABLE phpbb_cash_amt (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	cash_id INT4 DEFAULT '1' NOT NULL CHECK (cash_id >= 0),
	cash_amt INT4 DEFAULT '0' NOT NULL CHECK (cash_amt >= 0)
);

CREATE INDEX phpbb_cash_amt_cash_user ON phpbb_cash_amt (user_id, cash_id);

/*
	Table: 'phpbb_clicks'
*/
CREATE SEQUENCE phpbb_clicks_seq;

CREATE TABLE phpbb_clicks (
	id INT4 DEFAULT nextval('phpbb_clicks_seq'),
	url varchar(255) DEFAULT '' NOT NULL,
	clicks INT4 DEFAULT '0' NOT NULL CHECK (clicks >= 0),
	PRIMARY KEY (id)
);

CREATE INDEX phpbb_clicks_md5 ON phpbb_clicks (url);

/*
	Table: 'phpbb_config'
*/
CREATE TABLE phpbb_config (
	config_name varchar(255) DEFAULT '' NOT NULL,
	config_value varchar(255) DEFAULT '' NOT NULL,
	is_dynamic INT2 DEFAULT '0' NOT NULL CHECK (is_dynamic >= 0),
	PRIMARY KEY (config_name)
);

CREATE INDEX phpbb_config_is_dynamic ON phpbb_config (is_dynamic);

/*
	Table: 'phpbb_confirm'
*/
CREATE TABLE phpbb_confirm (
	confirm_id char(32) DEFAULT '' NOT NULL,
	session_id char(32) DEFAULT '' NOT NULL,
	confirm_type INT2 DEFAULT '0' NOT NULL,
	code varchar(8) DEFAULT '' NOT NULL,
	seed INT4 DEFAULT '0' NOT NULL CHECK (seed >= 0),
	attempts INT4 DEFAULT '0' NOT NULL CHECK (attempts >= 0),
	PRIMARY KEY (session_id, confirm_id)
);

CREATE INDEX phpbb_confirm_confirm_type ON phpbb_confirm (confirm_type);

/*
	Table: 'phpbb_contact_config'
*/
CREATE TABLE phpbb_contact_config (
	contact_confirm INT2 DEFAULT '1' NOT NULL CHECK (contact_confirm >= 0),
	contact_confirm_guests INT2 DEFAULT '1' NOT NULL CHECK (contact_confirm_guests >= 0),
	contact_max_attempts INT4 DEFAULT '3' NOT NULL CHECK (contact_max_attempts >= 0),
	contact_method INT2 DEFAULT '0' NOT NULL CHECK (contact_method >= 0),
	contact_bot_user INT4 DEFAULT '2' NOT NULL CHECK (contact_bot_user >= 0),
	contact_bot_forum INT4 DEFAULT '2' NOT NULL CHECK (contact_bot_forum >= 0),
	contact_reasons TEXT DEFAULT '' NOT NULL,
	contact_founder_only INT2 DEFAULT '0' NOT NULL CHECK (contact_founder_only >= 0),
	contact_bbcodes_allowed INT2 DEFAULT '0' NOT NULL CHECK (contact_bbcodes_allowed >= 0),
	contact_smilies_allowed INT2 DEFAULT '0' NOT NULL CHECK (contact_smilies_allowed >= 0),
	contact_bot_poster INT2 DEFAULT '0' NOT NULL CHECK (contact_bot_poster >= 0),
	contact_attach_allowed INT2 DEFAULT '0' NOT NULL CHECK (contact_attach_allowed >= 0),
	contact_urls_allowed INT2 DEFAULT '0' NOT NULL CHECK (contact_urls_allowed >= 0),
	contact_username_chk INT2 DEFAULT '0' NOT NULL CHECK (contact_username_chk >= 0),
	contact_email_chk INT2 DEFAULT '0' NOT NULL CHECK (contact_email_chk >= 0)
);


/*
	Table: 'phpbb_digests_subscribed_forums'
*/
CREATE TABLE phpbb_digests_subscribed_forums (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	PRIMARY KEY (user_id, forum_id)
);


/*
	Table: 'phpbb_disallow'
*/
CREATE SEQUENCE phpbb_disallow_seq;

CREATE TABLE phpbb_disallow (
	disallow_id INT4 DEFAULT nextval('phpbb_disallow_seq'),
	disallow_username varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (disallow_id)
);


/*
	Table: 'phpbb_dl_auth'
*/
CREATE TABLE phpbb_dl_auth (
	cat_id INT4 DEFAULT '0' NOT NULL CHECK (cat_id >= 0),
	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
	auth_view INT2 DEFAULT '1' NOT NULL CHECK (auth_view >= 0),
	auth_dl INT2 DEFAULT '1' NOT NULL CHECK (auth_dl >= 0),
	auth_up INT2 DEFAULT '1' NOT NULL CHECK (auth_up >= 0),
	auth_mod INT2 DEFAULT '0' NOT NULL CHECK (auth_mod >= 0)
);


/*
	Table: 'phpbb_dl_banlist'
*/
CREATE SEQUENCE phpbb_dl_banlist_seq;

CREATE TABLE phpbb_dl_banlist (
	ban_id INT4 DEFAULT nextval('phpbb_dl_banlist_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	user_ip varchar(40) DEFAULT '' NOT NULL,
	user_agent varchar(50) DEFAULT '' NOT NULL,
	username varchar(25) DEFAULT '' NOT NULL,
	guests INT2 DEFAULT '0' NOT NULL CHECK (guests >= 0),
	PRIMARY KEY (ban_id)
);


/*
	Table: 'phpbb_dl_bug_history'
*/
CREATE SEQUENCE phpbb_dl_bug_history_seq;

CREATE TABLE phpbb_dl_bug_history (
	report_his_id INT4 DEFAULT nextval('phpbb_dl_bug_history_seq'),
	df_id INT4 DEFAULT '0' NOT NULL,
	report_id INT4 DEFAULT '0' NOT NULL,
	report_his_type char(10) DEFAULT '' NOT NULL,
	report_his_date INT4 DEFAULT '0' NOT NULL CHECK (report_his_date >= 0),
	report_his_value TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (report_his_id)
);


/*
	Table: 'phpbb_dl_bug_tracker'
*/
CREATE SEQUENCE phpbb_dl_bug_tracker_seq;

CREATE TABLE phpbb_dl_bug_tracker (
	report_id INT4 DEFAULT nextval('phpbb_dl_bug_tracker_seq'),
	df_id INT4 DEFAULT '0' NOT NULL,
	report_title varchar(255) DEFAULT '' NOT NULL,
	report_text TEXT DEFAULT '' NOT NULL,
	report_file_ver varchar(50) DEFAULT '' NOT NULL,
	report_date INT4 DEFAULT '0' NOT NULL CHECK (report_date >= 0),
	report_author_id INT4 DEFAULT '0' NOT NULL CHECK (report_author_id >= 0),
	report_assign_id INT4 DEFAULT '0' NOT NULL CHECK (report_assign_id >= 0),
	report_assign_date INT4 DEFAULT '0' NOT NULL CHECK (report_assign_date >= 0),
	report_status INT2 DEFAULT '0' NOT NULL CHECK (report_status >= 0),
	report_status_date INT4 DEFAULT '0' NOT NULL CHECK (report_status_date >= 0),
	report_php varchar(50) DEFAULT '' NOT NULL,
	report_db varchar(50) DEFAULT '' NOT NULL,
	report_forum varchar(50) DEFAULT '' NOT NULL,
	bug_uid char(8) DEFAULT '' NOT NULL,
	bug_bitfield varchar(255) DEFAULT '' NOT NULL,
	bug_flags INT4 DEFAULT '0' NOT NULL CHECK (bug_flags >= 0),
	PRIMARY KEY (report_id)
);


/*
	Table: 'phpbb_dl_cat_traf'
*/
CREATE TABLE phpbb_dl_cat_traf (
	cat_id INT4 DEFAULT '0' NOT NULL CHECK (cat_id >= 0),
	cat_traffic_use INT8 DEFAULT '0' NOT NULL,
	PRIMARY KEY (cat_id)
);


/*
	Table: 'phpbb_dl_comments'
*/
CREATE SEQUENCE phpbb_dl_comments_seq;

CREATE TABLE phpbb_dl_comments (
	dl_id INT8 DEFAULT nextval('phpbb_dl_comments_seq'),
	id INT4 DEFAULT '0' NOT NULL,
	cat_id INT4 DEFAULT '0' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	username varchar(32) DEFAULT '' NOT NULL,
	comment_time INT4 DEFAULT '0' NOT NULL CHECK (comment_time >= 0),
	comment_edit_time INT4 DEFAULT '0' NOT NULL CHECK (comment_edit_time >= 0),
	comment_text TEXT DEFAULT '' NOT NULL,
	approve INT2 DEFAULT '0' NOT NULL CHECK (approve >= 0),
	com_uid char(8) DEFAULT '' NOT NULL,
	com_bitfield varchar(255) DEFAULT '' NOT NULL,
	com_flags INT4 DEFAULT '0' NOT NULL CHECK (com_flags >= 0),
	PRIMARY KEY (dl_id)
);


/*
	Table: 'phpbb_dl_ext_blacklist'
*/
CREATE TABLE phpbb_dl_ext_blacklist (
	extention char(10) DEFAULT '' NOT NULL
);


/*
	Table: 'phpbb_dl_favorites'
*/
CREATE SEQUENCE phpbb_dl_favorites_seq;

CREATE TABLE phpbb_dl_favorites (
	fav_id INT4 DEFAULT nextval('phpbb_dl_favorites_seq'),
	fav_dl_id INT4 DEFAULT '0' NOT NULL,
	fav_dl_cat INT4 DEFAULT '0' NOT NULL,
	fav_user_id INT4 DEFAULT '0' NOT NULL CHECK (fav_user_id >= 0),
	PRIMARY KEY (fav_id)
);


/*
	Table: 'phpbb_dl_fields'
*/
CREATE SEQUENCE phpbb_dl_fields_seq;

CREATE TABLE phpbb_dl_fields (
	field_id INT4 DEFAULT nextval('phpbb_dl_fields_seq'),
	field_name TEXT DEFAULT '' NOT NULL,
	field_type INT4 DEFAULT '0' NOT NULL,
	field_ident varchar(20) DEFAULT '' NOT NULL,
	field_length varchar(20) DEFAULT '' NOT NULL,
	field_minlen varchar(255) DEFAULT '' NOT NULL,
	field_maxlen varchar(255) DEFAULT '' NOT NULL,
	field_novalue TEXT DEFAULT '' NOT NULL,
	field_default_value TEXT DEFAULT '' NOT NULL,
	field_validation varchar(60) DEFAULT '' NOT NULL,
	field_required INT2 DEFAULT '0' NOT NULL CHECK (field_required >= 0),
	field_active INT2 DEFAULT '0' NOT NULL CHECK (field_active >= 0),
	field_order INT4 DEFAULT '0' NOT NULL CHECK (field_order >= 0),
	PRIMARY KEY (field_id)
);


/*
	Table: 'phpbb_dl_fields_data'
*/
CREATE TABLE phpbb_dl_fields_data (
	df_id INT4 DEFAULT '0' NOT NULL CHECK (df_id >= 0),
	PRIMARY KEY (df_id)
);


/*
	Table: 'phpbb_dl_fields_lang'
*/
CREATE TABLE phpbb_dl_fields_lang (
	field_id INT4 DEFAULT '0' NOT NULL CHECK (field_id >= 0),
	lang_id INT4 DEFAULT '0' NOT NULL CHECK (lang_id >= 0),
	option_id INT4 DEFAULT '0' NOT NULL CHECK (option_id >= 0),
	field_type INT4 DEFAULT '0' NOT NULL,
	lang_value TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (field_id, lang_id, option_id)
);


/*
	Table: 'phpbb_dl_hotlink'
*/
CREATE TABLE phpbb_dl_hotlink (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	session_id varchar(32) DEFAULT '' NOT NULL,
	hotlink_id varchar(32) DEFAULT '' NOT NULL,
	code varchar(10) DEFAULT '-' NOT NULL
);


/*
	Table: 'phpbb_dl_images'
*/
CREATE SEQUENCE phpbb_dl_images_seq;

CREATE TABLE phpbb_dl_images (
	img_id INT4 DEFAULT nextval('phpbb_dl_images_seq'),
	dl_id INT4 DEFAULT '0' NOT NULL CHECK (dl_id >= 0),
	img_name varchar(255) DEFAULT '' NOT NULL,
	img_title TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (img_id)
);


/*
	Table: 'phpbb_dl_lang'
*/
CREATE TABLE phpbb_dl_lang (
	field_id INT4 DEFAULT '0' NOT NULL CHECK (field_id >= 0),
	lang_id INT4 DEFAULT '0' NOT NULL CHECK (lang_id >= 0),
	lang_name TEXT DEFAULT '' NOT NULL,
	lang_explain TEXT DEFAULT '' NOT NULL,
	lang_default_value TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (field_id, lang_id)
);


/*
	Table: 'phpbb_dl_notraf'
*/
CREATE TABLE phpbb_dl_notraf (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	dl_id INT4 DEFAULT '0' NOT NULL
);


/*
	Table: 'phpbb_dl_ratings'
*/
CREATE TABLE phpbb_dl_ratings (
	dl_id INT4 DEFAULT '0' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	rate_point char(10) DEFAULT '' NOT NULL
);


/*
	Table: 'phpbb_dl_rem_traf'
*/
CREATE TABLE phpbb_dl_rem_traf (
	config_name varchar(255) DEFAULT '' NOT NULL,
	config_value varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (config_name)
);


/*
	Table: 'phpbb_dl_stats'
*/
CREATE SEQUENCE phpbb_dl_stats_seq;

CREATE TABLE phpbb_dl_stats (
	dl_id INT8 DEFAULT nextval('phpbb_dl_stats_seq'),
	id INT4 DEFAULT '0' NOT NULL,
	cat_id INT4 DEFAULT '0' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	username varchar(32) DEFAULT '' NOT NULL,
	traffic INT8 DEFAULT '0' NOT NULL,
	direction INT2 DEFAULT '0' NOT NULL CHECK (direction >= 0),
	user_ip varchar(40) DEFAULT '' NOT NULL,
	browser varchar(255) DEFAULT '' NOT NULL,
	time_stamp INT4 DEFAULT '0' NOT NULL CHECK (time_stamp >= 0),
	PRIMARY KEY (dl_id)
);


/*
	Table: 'phpbb_dl_versions'
*/
CREATE SEQUENCE phpbb_dl_versions_seq;

CREATE TABLE phpbb_dl_versions (
	ver_id INT4 DEFAULT nextval('phpbb_dl_versions_seq'),
	dl_id INT4 DEFAULT '0' NOT NULL CHECK (dl_id >= 0),
	ver_file_name varchar(255) DEFAULT '' NOT NULL,
	ver_real_file varchar(255) DEFAULT '' NOT NULL,
	ver_file_size INT8 DEFAULT '0' NOT NULL,
	ver_version varchar(32) DEFAULT '' NOT NULL,
	ver_change_time INT4 DEFAULT '0' NOT NULL CHECK (ver_change_time >= 0),
	ver_add_time INT4 DEFAULT '0' NOT NULL CHECK (ver_add_time >= 0),
	ver_add_user INT4 DEFAULT '0' NOT NULL CHECK (ver_add_user >= 0),
	ver_change_user INT4 DEFAULT '0' NOT NULL CHECK (ver_change_user >= 0),
	ver_file_hash varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (ver_id)
);


/*
	Table: 'phpbb_downloads'
*/
CREATE SEQUENCE phpbb_downloads_seq;

CREATE TABLE phpbb_downloads (
	id INT4 DEFAULT nextval('phpbb_downloads_seq'),
	description varchar(255) DEFAULT '' NOT NULL,
	file_name varchar(255) DEFAULT '' NOT NULL,
	klicks INT4 DEFAULT '0' NOT NULL,
	free INT2 DEFAULT '0' NOT NULL CHECK (free >= 0),
	extern INT2 DEFAULT '0' NOT NULL CHECK (extern >= 0),
	long_desc TEXT DEFAULT '' NOT NULL,
	sort INT4 DEFAULT '0' NOT NULL,
	cat INT4 DEFAULT '0' NOT NULL,
	hacklist INT2 DEFAULT '0' NOT NULL CHECK (hacklist >= 0),
	hack_author varchar(255) DEFAULT '' NOT NULL,
	hack_author_email varchar(255) DEFAULT '' NOT NULL,
	hack_author_website varchar(4000) DEFAULT '' NOT NULL,
	hack_version varchar(32) DEFAULT '' NOT NULL,
	hack_dl_url varchar(4000) DEFAULT '' NOT NULL,
	test varchar(50) DEFAULT '' NOT NULL,
	req TEXT DEFAULT '' NOT NULL,
	todo TEXT DEFAULT '' NOT NULL,
	warning TEXT DEFAULT '' NOT NULL,
	mod_desc TEXT DEFAULT '' NOT NULL,
	mod_list INT2 DEFAULT '0' NOT NULL CHECK (mod_list >= 0),
	file_size INT8 DEFAULT '0' NOT NULL,
	change_time INT4 DEFAULT '0' NOT NULL CHECK (change_time >= 0),
	rating INT4 DEFAULT '0' NOT NULL,
	file_traffic INT8 DEFAULT '0' NOT NULL,
	overall_klicks INT4 DEFAULT '0' NOT NULL,
	approve INT2 DEFAULT '0' NOT NULL CHECK (approve >= 0),
	add_time INT4 DEFAULT '0' NOT NULL CHECK (add_time >= 0),
	add_user INT4 DEFAULT '0' NOT NULL CHECK (add_user >= 0),
	change_user INT4 DEFAULT '0' NOT NULL CHECK (change_user >= 0),
	last_time INT4 DEFAULT '0' NOT NULL CHECK (last_time >= 0),
	down_user INT4 DEFAULT '0' NOT NULL CHECK (down_user >= 0),
	thumbnail varchar(255) DEFAULT '' NOT NULL,
	broken INT2 DEFAULT '0' NOT NULL CHECK (broken >= 0),
	mod_desc_uid char(8) DEFAULT '' NOT NULL,
	mod_desc_bitfield varchar(255) DEFAULT '' NOT NULL,
	mod_desc_flags INT4 DEFAULT '0' NOT NULL CHECK (mod_desc_flags >= 0),
	long_desc_uid char(8) DEFAULT '' NOT NULL,
	long_desc_bitfield varchar(255) DEFAULT '' NOT NULL,
	long_desc_flags INT4 DEFAULT '0' NOT NULL CHECK (long_desc_flags >= 0),
	desc_uid char(8) DEFAULT '' NOT NULL,
	desc_bitfield varchar(255) DEFAULT '' NOT NULL,
	desc_flags INT4 DEFAULT '0' NOT NULL CHECK (desc_flags >= 0),
	warn_uid char(8) DEFAULT '' NOT NULL,
	warn_bitfield varchar(255) DEFAULT '' NOT NULL,
	warn_flags INT4 DEFAULT '0' NOT NULL CHECK (warn_flags >= 0),
	dl_topic INT4 DEFAULT '0' NOT NULL CHECK (dl_topic >= 0),
	real_file varchar(255) DEFAULT '' NOT NULL,
	todo_uid char(8) DEFAULT '' NOT NULL,
	todo_bitfield varchar(255) DEFAULT '' NOT NULL,
	todo_flags INT4 DEFAULT '0' NOT NULL CHECK (todo_flags >= 0),
	file_hash varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (id)
);

CREATE INDEX phpbb_downloads_desc_search ON phpbb_downloads (description);

/*
	Table: 'phpbb_downloads_cat'
*/
CREATE SEQUENCE phpbb_downloads_cat_seq;

CREATE TABLE phpbb_downloads_cat (
	id INT4 DEFAULT nextval('phpbb_downloads_cat_seq'),
	parent INT4 DEFAULT '0' NOT NULL,
	path varchar(255) DEFAULT '' NOT NULL,
	cat_name varchar(255) DEFAULT '' NOT NULL,
	sort INT4 DEFAULT '0' NOT NULL,
	description TEXT DEFAULT '' NOT NULL,
	rules TEXT DEFAULT '' NOT NULL,
	auth_view INT2 DEFAULT '1' NOT NULL CHECK (auth_view >= 0),
	auth_dl INT2 DEFAULT '1' NOT NULL CHECK (auth_dl >= 0),
	auth_up INT2 DEFAULT '0' NOT NULL CHECK (auth_up >= 0),
	auth_mod INT2 DEFAULT '0' NOT NULL CHECK (auth_mod >= 0),
	must_approve INT2 DEFAULT '0' NOT NULL CHECK (must_approve >= 0),
	allow_mod_desc INT2 DEFAULT '0' NOT NULL CHECK (allow_mod_desc >= 0),
	statistics INT2 DEFAULT '1' NOT NULL CHECK (statistics >= 0),
	stats_prune INT4 DEFAULT '0' NOT NULL CHECK (stats_prune >= 0),
	comments INT2 DEFAULT '1' NOT NULL CHECK (comments >= 0),
	cat_traffic INT8 DEFAULT '0' NOT NULL,
	allow_thumbs INT2 DEFAULT '0' NOT NULL CHECK (allow_thumbs >= 0),
	auth_cread INT2 DEFAULT '0' NOT NULL CHECK (auth_cread >= 0),
	auth_cpost INT2 DEFAULT '1' NOT NULL CHECK (auth_cpost >= 0),
	approve_comments INT2 DEFAULT '1' NOT NULL CHECK (approve_comments >= 0),
	bug_tracker INT2 DEFAULT '0' NOT NULL CHECK (bug_tracker >= 0),
	desc_uid char(8) DEFAULT '' NOT NULL,
	desc_bitfield varchar(255) DEFAULT '' NOT NULL,
	desc_flags INT4 DEFAULT '0' NOT NULL CHECK (desc_flags >= 0),
	rules_uid char(8) DEFAULT '' NOT NULL,
	rules_bitfield varchar(255) DEFAULT '' NOT NULL,
	rules_flags INT4 DEFAULT '0' NOT NULL CHECK (rules_flags >= 0),
	dl_topic_forum INT4 DEFAULT '0' NOT NULL,
	dl_topic_text TEXT DEFAULT '' NOT NULL,
	cat_icon varchar(255) DEFAULT '' NOT NULL,
	diff_topic_user INT8 DEFAULT '0' NOT NULL,
	topic_user INT4 DEFAULT '0' NOT NULL CHECK (topic_user >= 0),
	topic_more_details INT2 DEFAULT '1' NOT NULL CHECK (topic_more_details >= 0),
	show_file_hash INT2 DEFAULT '1' NOT NULL CHECK (show_file_hash >= 0),
	PRIMARY KEY (id)
);


/*
	Table: 'phpbb_drafts'
*/
CREATE SEQUENCE phpbb_drafts_seq;

CREATE TABLE phpbb_drafts (
	draft_id INT4 DEFAULT nextval('phpbb_drafts_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	save_time INT4 DEFAULT '0' NOT NULL CHECK (save_time >= 0),
	draft_subject varchar(255) DEFAULT '' NOT NULL,
	draft_message TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (draft_id)
);

CREATE INDEX phpbb_drafts_save_time ON phpbb_drafts (save_time);

/*
	Table: 'phpbb_extensions'
*/
CREATE SEQUENCE phpbb_extensions_seq;

CREATE TABLE phpbb_extensions (
	extension_id INT4 DEFAULT nextval('phpbb_extensions_seq'),
	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
	extension varchar(100) DEFAULT '' NOT NULL,
	PRIMARY KEY (extension_id)
);


/*
	Table: 'phpbb_extension_groups'
*/
CREATE SEQUENCE phpbb_extension_groups_seq;

CREATE TABLE phpbb_extension_groups (
	group_id INT4 DEFAULT nextval('phpbb_extension_groups_seq'),
	group_name varchar(255) DEFAULT '' NOT NULL,
	cat_id INT2 DEFAULT '0' NOT NULL,
	allow_group INT2 DEFAULT '0' NOT NULL CHECK (allow_group >= 0),
	download_mode INT2 DEFAULT '1' NOT NULL CHECK (download_mode >= 0),
	upload_icon varchar(255) DEFAULT '' NOT NULL,
	max_filesize INT4 DEFAULT '0' NOT NULL CHECK (max_filesize >= 0),
	allowed_forums varchar(8000) DEFAULT '' NOT NULL,
	allow_in_pm INT2 DEFAULT '0' NOT NULL CHECK (allow_in_pm >= 0),
	allow_in_blog INT2 DEFAULT '0' NOT NULL CHECK (allow_in_blog >= 0),
	PRIMARY KEY (group_id)
);


/*
	Table: 'phpbb_forums'
*/
CREATE SEQUENCE phpbb_forums_seq;

CREATE TABLE phpbb_forums (
	forum_id INT4 DEFAULT nextval('phpbb_forums_seq'),
	parent_id INT4 DEFAULT '0' NOT NULL CHECK (parent_id >= 0),
	left_id INT4 DEFAULT '0' NOT NULL CHECK (left_id >= 0),
	right_id INT4 DEFAULT '0' NOT NULL CHECK (right_id >= 0),
	forum_parents TEXT DEFAULT '' NOT NULL,
	forum_name varchar(255) DEFAULT '' NOT NULL,
	forum_desc varchar(4000) DEFAULT '' NOT NULL,
	forum_desc_bitfield varchar(255) DEFAULT '' NOT NULL,
	forum_desc_options INT4 DEFAULT '7' NOT NULL CHECK (forum_desc_options >= 0),
	forum_desc_uid varchar(8) DEFAULT '' NOT NULL,
	forum_link varchar(255) DEFAULT '' NOT NULL,
	forum_password varchar(40) DEFAULT '' NOT NULL,
	forum_style INT4 DEFAULT '0' NOT NULL CHECK (forum_style >= 0),
	forum_image varchar(255) DEFAULT '' NOT NULL,
	forum_rules varchar(4000) DEFAULT '' NOT NULL,
	forum_rules_link varchar(255) DEFAULT '' NOT NULL,
	forum_rules_bitfield varchar(255) DEFAULT '' NOT NULL,
	forum_rules_options INT4 DEFAULT '7' NOT NULL CHECK (forum_rules_options >= 0),
	forum_rules_uid varchar(8) DEFAULT '' NOT NULL,
	forum_topics_per_page INT2 DEFAULT '0' NOT NULL,
	forum_type INT2 DEFAULT '0' NOT NULL,
	forum_status INT2 DEFAULT '0' NOT NULL,
	forum_posts INT4 DEFAULT '0' NOT NULL CHECK (forum_posts >= 0),
	forum_topics INT4 DEFAULT '0' NOT NULL CHECK (forum_topics >= 0),
	forum_topics_real INT4 DEFAULT '0' NOT NULL CHECK (forum_topics_real >= 0),
	forum_last_post_id INT4 DEFAULT '0' NOT NULL CHECK (forum_last_post_id >= 0),
	forum_last_poster_id INT4 DEFAULT '0' NOT NULL CHECK (forum_last_poster_id >= 0),
	forum_last_post_subject varchar(255) DEFAULT '' NOT NULL,
	forum_last_post_time INT4 DEFAULT '0' NOT NULL CHECK (forum_last_post_time >= 0),
	forum_last_poster_name varchar(255) DEFAULT '' NOT NULL,
	forum_last_poster_colour varchar(6) DEFAULT '' NOT NULL,
	forum_flags INT2 DEFAULT '32' NOT NULL,
	forum_options INT4 DEFAULT '0' NOT NULL CHECK (forum_options >= 0),
	display_subforum_list INT2 DEFAULT '1' NOT NULL CHECK (display_subforum_list >= 0),
	display_on_index INT2 DEFAULT '1' NOT NULL CHECK (display_on_index >= 0),
	enable_indexing INT2 DEFAULT '1' NOT NULL CHECK (enable_indexing >= 0),
	enable_icons INT2 DEFAULT '1' NOT NULL CHECK (enable_icons >= 0),
	enable_prune INT2 DEFAULT '0' NOT NULL CHECK (enable_prune >= 0),
	prune_next INT4 DEFAULT '0' NOT NULL CHECK (prune_next >= 0),
	prune_days INT4 DEFAULT '0' NOT NULL CHECK (prune_days >= 0),
	prune_viewed INT4 DEFAULT '0' NOT NULL CHECK (prune_viewed >= 0),
	prune_freq INT4 DEFAULT '0' NOT NULL CHECK (prune_freq >= 0),
	forum_perpost decimal(10,2) DEFAULT '5' NOT NULL,
	forum_peredit decimal(10,2) DEFAULT '0.05' NOT NULL,
	forum_pertopic decimal(10,2) DEFAULT '15' NOT NULL,
	PRIMARY KEY (forum_id)
);

CREATE INDEX phpbb_forums_left_right_id ON phpbb_forums (left_id, right_id);
CREATE INDEX phpbb_forums_forum_lastpost_id ON phpbb_forums (forum_last_post_id);

/*
	Table: 'phpbb_forums_access'
*/
CREATE TABLE phpbb_forums_access (
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	session_id char(32) DEFAULT '' NOT NULL,
	PRIMARY KEY (forum_id, user_id, session_id)
);


/*
	Table: 'phpbb_forums_track'
*/
CREATE TABLE phpbb_forums_track (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	mark_time INT4 DEFAULT '0' NOT NULL CHECK (mark_time >= 0),
	PRIMARY KEY (user_id, forum_id)
);


/*
	Table: 'phpbb_forums_watch'
*/
CREATE TABLE phpbb_forums_watch (
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	notify_status INT2 DEFAULT '0' NOT NULL CHECK (notify_status >= 0)
);

CREATE INDEX phpbb_forums_watch_forum_id ON phpbb_forums_watch (forum_id);
CREATE INDEX phpbb_forums_watch_user_id ON phpbb_forums_watch (user_id);
CREATE INDEX phpbb_forums_watch_notify_stat ON phpbb_forums_watch (notify_status);

/*
	Table: 'phpbb_gallery_albums'
*/
CREATE SEQUENCE phpbb_gallery_albums_seq;

CREATE TABLE phpbb_gallery_albums (
	album_id INT4 DEFAULT nextval('phpbb_gallery_albums_seq'),
	parent_id INT4 DEFAULT '0' NOT NULL CHECK (parent_id >= 0),
	left_id INT4 DEFAULT '1' NOT NULL CHECK (left_id >= 0),
	right_id INT4 DEFAULT '2' NOT NULL CHECK (right_id >= 0),
	album_parents TEXT DEFAULT '' NOT NULL,
	album_type INT4 DEFAULT '1' NOT NULL CHECK (album_type >= 0),
	album_status INT4 DEFAULT '1' NOT NULL CHECK (album_status >= 0),
	album_contest INT4 DEFAULT '0' NOT NULL CHECK (album_contest >= 0),
	album_name varchar(255) DEFAULT '' NOT NULL,
	album_desc TEXT DEFAULT '' NOT NULL,
	album_desc_options INT4 DEFAULT '7' NOT NULL CHECK (album_desc_options >= 0),
	album_desc_uid varchar(8) DEFAULT '' NOT NULL,
	album_desc_bitfield varchar(255) DEFAULT '' NOT NULL,
	album_user_id INT4 DEFAULT '0' NOT NULL CHECK (album_user_id >= 0),
	album_images INT4 DEFAULT '0' NOT NULL CHECK (album_images >= 0),
	album_images_real INT4 DEFAULT '0' NOT NULL CHECK (album_images_real >= 0),
	album_last_image_id INT4 DEFAULT '0' NOT NULL CHECK (album_last_image_id >= 0),
	album_image varchar(255) DEFAULT '' NOT NULL,
	album_last_image_time INT4 DEFAULT '0' NOT NULL,
	album_last_image_name varchar(255) DEFAULT '' NOT NULL,
	album_last_username varchar(255) DEFAULT '' NOT NULL,
	album_last_user_colour varchar(6) DEFAULT '' NOT NULL,
	album_last_user_id INT4 DEFAULT '0' NOT NULL CHECK (album_last_user_id >= 0),
	album_watermark INT4 DEFAULT '1' NOT NULL CHECK (album_watermark >= 0),
	album_sort_key varchar(8) DEFAULT '' NOT NULL,
	album_sort_dir varchar(8) DEFAULT '' NOT NULL,
	display_in_rrc INT4 DEFAULT '1' NOT NULL CHECK (display_in_rrc >= 0),
	display_on_index INT4 DEFAULT '1' NOT NULL CHECK (display_on_index >= 0),
	display_subalbum_list INT4 DEFAULT '1' NOT NULL CHECK (display_subalbum_list >= 0),
	album_feed INT2 DEFAULT '1' NOT NULL CHECK (album_feed >= 0),
	album_auth_access INT2 DEFAULT '0' NOT NULL,
	PRIMARY KEY (album_id)
);


/*
	Table: 'phpbb_gallery_albums_track'
*/
CREATE TABLE phpbb_gallery_albums_track (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	album_id INT4 DEFAULT '0' NOT NULL CHECK (album_id >= 0),
	mark_time INT4 DEFAULT '0' NOT NULL CHECK (mark_time >= 0),
	PRIMARY KEY (user_id, album_id)
);


/*
	Table: 'phpbb_gallery_comments'
*/
CREATE SEQUENCE phpbb_gallery_comments_seq;

CREATE TABLE phpbb_gallery_comments (
	comment_id INT4 DEFAULT nextval('phpbb_gallery_comments_seq'),
	comment_image_id INT4 NOT NULL CHECK (comment_image_id >= 0),
	comment_user_id INT4 DEFAULT '0' NOT NULL CHECK (comment_user_id >= 0),
	comment_username varchar(255) DEFAULT '' NOT NULL,
	comment_user_colour varchar(6) DEFAULT '' NOT NULL,
	comment_user_ip varchar(40) DEFAULT '' NOT NULL,
	comment_signature INT2 DEFAULT '0' NOT NULL CHECK (comment_signature >= 0),
	comment_time INT4 DEFAULT '0' NOT NULL CHECK (comment_time >= 0),
	comment TEXT DEFAULT '' NOT NULL,
	comment_uid varchar(8) DEFAULT '' NOT NULL,
	comment_bitfield varchar(255) DEFAULT '' NOT NULL,
	comment_edit_time INT4 DEFAULT '0' NOT NULL CHECK (comment_edit_time >= 0),
	comment_edit_count INT2 DEFAULT '0' NOT NULL CHECK (comment_edit_count >= 0),
	comment_edit_user_id INT4 DEFAULT '0' NOT NULL CHECK (comment_edit_user_id >= 0),
	PRIMARY KEY (comment_id)
);

CREATE INDEX phpbb_gallery_comments_id ON phpbb_gallery_comments (comment_image_id);
CREATE INDEX phpbb_gallery_comments_uid ON phpbb_gallery_comments (comment_user_id);
CREATE INDEX phpbb_gallery_comments_ip ON phpbb_gallery_comments (comment_user_ip);
CREATE INDEX phpbb_gallery_comments_time ON phpbb_gallery_comments (comment_time);

/*
	Table: 'phpbb_gallery_config'
*/
CREATE TABLE phpbb_gallery_config (
	config_name varchar(255) DEFAULT '' NOT NULL,
	config_value varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (config_name)
);


/*
	Table: 'phpbb_gallery_contests'
*/
CREATE SEQUENCE phpbb_gallery_contests_seq;

CREATE TABLE phpbb_gallery_contests (
	contest_id INT4 DEFAULT nextval('phpbb_gallery_contests_seq'),
	contest_album_id INT4 DEFAULT '0' NOT NULL CHECK (contest_album_id >= 0),
	contest_start INT4 DEFAULT '0' NOT NULL CHECK (contest_start >= 0),
	contest_rating INT4 DEFAULT '0' NOT NULL CHECK (contest_rating >= 0),
	contest_end INT4 DEFAULT '0' NOT NULL CHECK (contest_end >= 0),
	contest_marked INT2 DEFAULT '0' NOT NULL,
	contest_first INT4 DEFAULT '0' NOT NULL CHECK (contest_first >= 0),
	contest_second INT4 DEFAULT '0' NOT NULL CHECK (contest_second >= 0),
	contest_third INT4 DEFAULT '0' NOT NULL CHECK (contest_third >= 0),
	PRIMARY KEY (contest_id)
);


/*
	Table: 'phpbb_gallery_copyts_albums'
*/
CREATE SEQUENCE phpbb_gallery_copyts_albums_seq;

CREATE TABLE phpbb_gallery_copyts_albums (
	album_id INT4 DEFAULT nextval('phpbb_gallery_copyts_albums_seq'),
	parent_id INT4 DEFAULT '0' NOT NULL CHECK (parent_id >= 0),
	left_id INT4 DEFAULT '1' NOT NULL CHECK (left_id >= 0),
	right_id INT4 DEFAULT '2' NOT NULL CHECK (right_id >= 0),
	album_name varchar(255) DEFAULT '' NOT NULL,
	album_desc TEXT DEFAULT '' NOT NULL,
	album_user_id INT4 DEFAULT '0' NOT NULL CHECK (album_user_id >= 0),
	PRIMARY KEY (album_id)
);


/*
	Table: 'phpbb_gallery_copyts_users'
*/
CREATE TABLE phpbb_gallery_copyts_users (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	personal_album_id INT4 DEFAULT '0' NOT NULL CHECK (personal_album_id >= 0),
	PRIMARY KEY (user_id)
);


/*
	Table: 'phpbb_gallery_favorites'
*/
CREATE SEQUENCE phpbb_gallery_favorites_seq;

CREATE TABLE phpbb_gallery_favorites (
	favorite_id INT4 DEFAULT nextval('phpbb_gallery_favorites_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	image_id INT4 DEFAULT '0' NOT NULL CHECK (image_id >= 0),
	PRIMARY KEY (favorite_id)
);

CREATE INDEX phpbb_gallery_favorites_uid ON phpbb_gallery_favorites (user_id);
CREATE INDEX phpbb_gallery_favorites_id ON phpbb_gallery_favorites (image_id);

/*
	Table: 'phpbb_gallery_images'
*/
CREATE SEQUENCE phpbb_gallery_images_seq;

CREATE TABLE phpbb_gallery_images (
	image_id INT4 DEFAULT nextval('phpbb_gallery_images_seq'),
	image_filename varchar(255) DEFAULT '' NOT NULL,
	image_name varchar(255) DEFAULT '' NOT NULL,
	image_name_clean varchar(255) DEFAULT '' NOT NULL,
	image_desc TEXT DEFAULT '' NOT NULL,
	image_desc_uid varchar(8) DEFAULT '' NOT NULL,
	image_desc_bitfield varchar(255) DEFAULT '' NOT NULL,
	image_user_id INT4 DEFAULT '0' NOT NULL CHECK (image_user_id >= 0),
	image_username varchar(255) DEFAULT '' NOT NULL,
	image_username_clean varchar(255) DEFAULT '' NOT NULL,
	image_user_colour varchar(6) DEFAULT '' NOT NULL,
	image_user_ip varchar(40) DEFAULT '' NOT NULL,
	image_time INT4 DEFAULT '0' NOT NULL CHECK (image_time >= 0),
	image_album_id INT4 DEFAULT '0' NOT NULL CHECK (image_album_id >= 0),
	image_view_count INT4 DEFAULT '0' NOT NULL CHECK (image_view_count >= 0),
	image_status INT4 DEFAULT '0' NOT NULL CHECK (image_status >= 0),
	image_contest INT4 DEFAULT '0' NOT NULL CHECK (image_contest >= 0),
	image_contest_end INT4 DEFAULT '0' NOT NULL CHECK (image_contest_end >= 0),
	image_contest_rank INT4 DEFAULT '0' NOT NULL CHECK (image_contest_rank >= 0),
	image_filemissing INT4 DEFAULT '0' NOT NULL CHECK (image_filemissing >= 0),
	image_has_exif INT4 DEFAULT '2' NOT NULL CHECK (image_has_exif >= 0),
	image_exif_data varchar(8000) DEFAULT '' NOT NULL,
	image_rates INT4 DEFAULT '0' NOT NULL CHECK (image_rates >= 0),
	image_rate_points INT4 DEFAULT '0' NOT NULL CHECK (image_rate_points >= 0),
	image_rate_avg INT4 DEFAULT '0' NOT NULL CHECK (image_rate_avg >= 0),
	image_comments INT4 DEFAULT '0' NOT NULL CHECK (image_comments >= 0),
	image_last_comment INT4 DEFAULT '0' NOT NULL CHECK (image_last_comment >= 0),
	image_allow_comments INT2 DEFAULT '1' NOT NULL,
	image_favorited INT4 DEFAULT '0' NOT NULL CHECK (image_favorited >= 0),
	image_reported INT4 DEFAULT '0' NOT NULL CHECK (image_reported >= 0),
	filesize_upload INT4 DEFAULT '0' NOT NULL CHECK (filesize_upload >= 0),
	filesize_medium INT4 DEFAULT '0' NOT NULL CHECK (filesize_medium >= 0),
	filesize_cache INT4 DEFAULT '0' NOT NULL CHECK (filesize_cache >= 0),
	PRIMARY KEY (image_id)
);

CREATE INDEX phpbb_gallery_images_aid ON phpbb_gallery_images (image_album_id);
CREATE INDEX phpbb_gallery_images_uid ON phpbb_gallery_images (image_user_id);
CREATE INDEX phpbb_gallery_images_time ON phpbb_gallery_images (image_time);

/*
	Table: 'phpbb_gallery_modscache'
*/
CREATE TABLE phpbb_gallery_modscache (
	album_id INT4 DEFAULT '0' NOT NULL CHECK (album_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	username varchar(255) DEFAULT '' NOT NULL,
	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
	group_name varchar(255) DEFAULT '' NOT NULL,
	display_on_index INT2 DEFAULT '1' NOT NULL
);

CREATE INDEX phpbb_gallery_modscache_doi ON phpbb_gallery_modscache (display_on_index);
CREATE INDEX phpbb_gallery_modscache_aid ON phpbb_gallery_modscache (album_id);

/*
	Table: 'phpbb_gallery_permissions'
*/
CREATE SEQUENCE phpbb_gallery_permissions_seq;

CREATE TABLE phpbb_gallery_permissions (
	perm_id INT4 DEFAULT nextval('phpbb_gallery_permissions_seq'),
	perm_role_id INT4 DEFAULT '0' NOT NULL CHECK (perm_role_id >= 0),
	perm_album_id INT4 DEFAULT '0' NOT NULL CHECK (perm_album_id >= 0),
	perm_user_id INT4 DEFAULT '0' NOT NULL CHECK (perm_user_id >= 0),
	perm_group_id INT4 DEFAULT '0' NOT NULL CHECK (perm_group_id >= 0),
	perm_system INT4 DEFAULT '0' NOT NULL,
	PRIMARY KEY (perm_id)
);


/*
	Table: 'phpbb_gallery_rates'
*/
CREATE TABLE phpbb_gallery_rates (
	rate_image_id INT4 DEFAULT '0' NOT NULL CHECK (rate_image_id >= 0),
	rate_user_id INT4 DEFAULT '0' NOT NULL CHECK (rate_user_id >= 0),
	rate_user_ip varchar(40) DEFAULT '' NOT NULL,
	rate_point INT4 DEFAULT '0' NOT NULL CHECK (rate_point >= 0),
	PRIMARY KEY (rate_image_id, rate_user_id)
);


/*
	Table: 'phpbb_gallery_reports'
*/
CREATE SEQUENCE phpbb_gallery_reports_seq;

CREATE TABLE phpbb_gallery_reports (
	report_id INT4 DEFAULT nextval('phpbb_gallery_reports_seq'),
	report_album_id INT4 DEFAULT '0' NOT NULL CHECK (report_album_id >= 0),
	report_image_id INT4 DEFAULT '0' NOT NULL CHECK (report_image_id >= 0),
	reporter_id INT4 DEFAULT '0' NOT NULL CHECK (reporter_id >= 0),
	report_manager INT4 DEFAULT '0' NOT NULL CHECK (report_manager >= 0),
	report_note TEXT DEFAULT '' NOT NULL,
	report_time INT4 DEFAULT '0' NOT NULL CHECK (report_time >= 0),
	report_status INT4 DEFAULT '0' NOT NULL CHECK (report_status >= 0),
	PRIMARY KEY (report_id)
);


/*
	Table: 'phpbb_gallery_roles'
*/
CREATE SEQUENCE phpbb_gallery_roles_seq;

CREATE TABLE phpbb_gallery_roles (
	role_id INT4 DEFAULT nextval('phpbb_gallery_roles_seq'),
	a_list INT4 DEFAULT '0' NOT NULL CHECK (a_list >= 0),
	i_view INT4 DEFAULT '0' NOT NULL CHECK (i_view >= 0),
	i_watermark INT4 DEFAULT '0' NOT NULL CHECK (i_watermark >= 0),
	i_upload INT4 DEFAULT '0' NOT NULL CHECK (i_upload >= 0),
	i_edit INT4 DEFAULT '0' NOT NULL CHECK (i_edit >= 0),
	i_delete INT4 DEFAULT '0' NOT NULL CHECK (i_delete >= 0),
	i_rate INT4 DEFAULT '0' NOT NULL CHECK (i_rate >= 0),
	i_approve INT4 DEFAULT '0' NOT NULL CHECK (i_approve >= 0),
	i_lock INT4 DEFAULT '0' NOT NULL CHECK (i_lock >= 0),
	i_report INT4 DEFAULT '0' NOT NULL CHECK (i_report >= 0),
	i_count INT4 DEFAULT '0' NOT NULL CHECK (i_count >= 0),
	i_unlimited INT4 DEFAULT '0' NOT NULL CHECK (i_unlimited >= 0),
	c_read INT4 DEFAULT '0' NOT NULL CHECK (c_read >= 0),
	c_post INT4 DEFAULT '0' NOT NULL CHECK (c_post >= 0),
	c_edit INT4 DEFAULT '0' NOT NULL CHECK (c_edit >= 0),
	c_delete INT4 DEFAULT '0' NOT NULL CHECK (c_delete >= 0),
	m_comments INT4 DEFAULT '0' NOT NULL CHECK (m_comments >= 0),
	m_delete INT4 DEFAULT '0' NOT NULL CHECK (m_delete >= 0),
	m_edit INT4 DEFAULT '0' NOT NULL CHECK (m_edit >= 0),
	m_move INT4 DEFAULT '0' NOT NULL CHECK (m_move >= 0),
	m_report INT4 DEFAULT '0' NOT NULL CHECK (m_report >= 0),
	m_status INT4 DEFAULT '0' NOT NULL CHECK (m_status >= 0),
	a_count INT4 DEFAULT '0' NOT NULL CHECK (a_count >= 0),
	a_unlimited INT4 DEFAULT '0' NOT NULL CHECK (a_unlimited >= 0),
	a_restrict INT4 DEFAULT '0' NOT NULL CHECK (a_restrict >= 0),
	PRIMARY KEY (role_id)
);


/*
	Table: 'phpbb_gallery_users'
*/
CREATE TABLE phpbb_gallery_users (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	watch_own INT4 DEFAULT '0' NOT NULL CHECK (watch_own >= 0),
	watch_favo INT4 DEFAULT '0' NOT NULL CHECK (watch_favo >= 0),
	watch_com INT4 DEFAULT '0' NOT NULL CHECK (watch_com >= 0),
	user_images INT4 DEFAULT '0' NOT NULL CHECK (user_images >= 0),
	personal_album_id INT4 DEFAULT '0' NOT NULL CHECK (personal_album_id >= 0),
	user_lastmark INT4 DEFAULT '0' NOT NULL CHECK (user_lastmark >= 0),
	user_last_update INT4 DEFAULT '0' NOT NULL CHECK (user_last_update >= 0),
	user_viewexif INT4 DEFAULT '0' NOT NULL CHECK (user_viewexif >= 0),
	user_permissions TEXT DEFAULT '' NOT NULL,
	user_permissions_changed INT4 DEFAULT '0' NOT NULL CHECK (user_permissions_changed >= 0),
	user_allow_comments INT2 DEFAULT '1' NOT NULL,
	subscribe_pegas INT2 DEFAULT '0' NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE INDEX phpbb_gallery_users_pega ON phpbb_gallery_users (personal_album_id);

/*
	Table: 'phpbb_gallery_watch'
*/
CREATE SEQUENCE phpbb_gallery_watch_seq;

CREATE TABLE phpbb_gallery_watch (
	watch_id INT4 DEFAULT nextval('phpbb_gallery_watch_seq'),
	album_id INT4 DEFAULT '0' NOT NULL CHECK (album_id >= 0),
	image_id INT4 DEFAULT '0' NOT NULL CHECK (image_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	PRIMARY KEY (watch_id)
);

CREATE INDEX phpbb_gallery_watch_uid ON phpbb_gallery_watch (user_id);
CREATE INDEX phpbb_gallery_watch_id ON phpbb_gallery_watch (image_id);
CREATE INDEX phpbb_gallery_watch_aid ON phpbb_gallery_watch (album_id);

/*
	Table: 'phpbb_groups'
*/
CREATE SEQUENCE phpbb_groups_seq;

CREATE TABLE phpbb_groups (
	group_id INT4 DEFAULT nextval('phpbb_groups_seq'),
	group_type INT2 DEFAULT '1' NOT NULL,
	group_founder_manage INT2 DEFAULT '0' NOT NULL CHECK (group_founder_manage >= 0),
	group_skip_auth INT2 DEFAULT '0' NOT NULL CHECK (group_skip_auth >= 0),
	group_name varchar_ci DEFAULT '' NOT NULL,
	group_desc varchar(4000) DEFAULT '' NOT NULL,
	group_desc_bitfield varchar(255) DEFAULT '' NOT NULL,
	group_desc_options INT4 DEFAULT '7' NOT NULL CHECK (group_desc_options >= 0),
	group_desc_uid varchar(8) DEFAULT '' NOT NULL,
	group_display INT2 DEFAULT '0' NOT NULL CHECK (group_display >= 0),
	group_avatar varchar(255) DEFAULT '' NOT NULL,
	group_avatar_type INT2 DEFAULT '0' NOT NULL,
	group_avatar_width INT2 DEFAULT '0' NOT NULL CHECK (group_avatar_width >= 0),
	group_avatar_height INT2 DEFAULT '0' NOT NULL CHECK (group_avatar_height >= 0),
	group_rank INT4 DEFAULT '0' NOT NULL CHECK (group_rank >= 0),
	group_colour varchar(6) DEFAULT '' NOT NULL,
	group_sig_chars INT4 DEFAULT '0' NOT NULL CHECK (group_sig_chars >= 0),
	group_receive_pm INT2 DEFAULT '0' NOT NULL CHECK (group_receive_pm >= 0),
	group_message_limit INT4 DEFAULT '0' NOT NULL CHECK (group_message_limit >= 0),
	group_max_recipients INT4 DEFAULT '0' NOT NULL CHECK (group_max_recipients >= 0),
	group_legend INT2 DEFAULT '1' NOT NULL CHECK (group_legend >= 0),
	group_dl_auto_traffic INT8 DEFAULT '0' NOT NULL,
	group_meeting_create INT2 DEFAULT '0' NOT NULL CHECK (group_meeting_create >= 0),
	group_meeting_select INT2 DEFAULT '0' NOT NULL CHECK (group_meeting_select >= 0),
	display_on_registration INT2 DEFAULT '0' NOT NULL CHECK (display_on_registration >= 0),
	PRIMARY KEY (group_id)
);

CREATE INDEX phpbb_groups_group_legend_name ON phpbb_groups (group_legend, group_name);

/*
	Table: 'phpbb_icons'
*/
CREATE SEQUENCE phpbb_icons_seq;

CREATE TABLE phpbb_icons (
	icons_id INT4 DEFAULT nextval('phpbb_icons_seq'),
	icons_url varchar(255) DEFAULT '' NOT NULL,
	icons_width INT2 DEFAULT '0' NOT NULL,
	icons_height INT2 DEFAULT '0' NOT NULL,
	icons_order INT4 DEFAULT '0' NOT NULL CHECK (icons_order >= 0),
	display_on_posting INT2 DEFAULT '1' NOT NULL CHECK (display_on_posting >= 0),
	icons_group INT2 DEFAULT '0' NOT NULL CHECK (icons_group >= 0),
	PRIMARY KEY (icons_id)
);

CREATE INDEX phpbb_icons_display_on_posting ON phpbb_icons (display_on_posting);

/*
	Table: 'phpbb_imod_config'
*/
CREATE SEQUENCE phpbb_imod_config_seq;

CREATE TABLE phpbb_imod_config (
	id INT2 DEFAULT nextval('phpbb_imod_config_seq'),
	imod_version varchar(8) DEFAULT '3.0.15' NOT NULL,
	imod_enabled INT2 DEFAULT '1' NOT NULL CHECK (imod_enabled >= 0),
	PRIMARY KEY (id)
);


/*
	Table: 'phpbb_kb_article'
*/
CREATE SEQUENCE phpbb_kb_article_seq;

CREATE TABLE phpbb_kb_article (
	article_id INT4 DEFAULT nextval('phpbb_kb_article_seq'),
	cat_id INT4 DEFAULT '0' NOT NULL CHECK (cat_id >= 0),
	type_id INT4 DEFAULT '0' NOT NULL CHECK (type_id >= 0),
	hits INT4 DEFAULT '0' NOT NULL CHECK (hits >= 0),
	titel varchar(255) DEFAULT '' NOT NULL,
	description varchar(4000) DEFAULT '' NOT NULL,
	article TEXT DEFAULT '' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	last_edit_user INT4 DEFAULT '0' NOT NULL CHECK (last_edit_user >= 0),
	activ INT2 DEFAULT '0' NOT NULL CHECK (activ >= 0),
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_options varchar(255) DEFAULT '' NOT NULL,
	enable_magic_url INT2 DEFAULT '0' NOT NULL CHECK (enable_magic_url >= 0),
	enable_smilies INT2 DEFAULT '0' NOT NULL CHECK (enable_smilies >= 0),
	enable_bbcode INT2 DEFAULT '0' NOT NULL CHECK (enable_bbcode >= 0),
	post_time INT4 DEFAULT '0' NOT NULL CHECK (post_time >= 0),
	page_uri varchar(255) DEFAULT '' NOT NULL,
	last_change INT4 DEFAULT '0' NOT NULL CHECK (last_change >= 0),
	post_id INT4 DEFAULT '0' NOT NULL CHECK (post_id >= 0),
	has_attachment INT2 DEFAULT '0' NOT NULL CHECK (has_attachment >= 0),
	reported_id INT4 DEFAULT '0' NOT NULL CHECK (reported_id >= 0),
	rating INT4 DEFAULT '0' NOT NULL CHECK (rating >= 0),
	PRIMARY KEY (article_id)
);

CREATE INDEX phpbb_kb_article_activ ON phpbb_kb_article (activ);
CREATE INDEX phpbb_kb_article_titel ON phpbb_kb_article (titel);

/*
	Table: 'phpbb_kb_article_diff'
*/
CREATE SEQUENCE phpbb_kb_article_diff_seq;

CREATE TABLE phpbb_kb_article_diff (
	diff_id INT4 DEFAULT nextval('phpbb_kb_article_diff_seq'),
	article_id INT4 DEFAULT '0' NOT NULL CHECK (article_id >= 0),
	article TEXT DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	time INT4 DEFAULT '0' NOT NULL CHECK (time >= 0),
	edit_reason varchar(255) DEFAULT '' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	PRIMARY KEY (article_id)
);

CREATE INDEX phpbb_kb_article_diff_diff_id ON phpbb_kb_article_diff (diff_id);

/*
	Table: 'phpbb_kb_article_track'
*/
CREATE TABLE phpbb_kb_article_track (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	article_id INT4 DEFAULT '0' NOT NULL CHECK (article_id >= 0),
	cat_id INT4 DEFAULT '0' NOT NULL CHECK (cat_id >= 0),
	mark_time INT4 DEFAULT '0' NOT NULL CHECK (mark_time >= 0),
	PRIMARY KEY (article_id)
);

CREATE INDEX phpbb_kb_article_track_user_id ON phpbb_kb_article_track (user_id);

/*
	Table: 'phpbb_kb_categorie'
*/
CREATE SEQUENCE phpbb_kb_categorie_seq;

CREATE TABLE phpbb_kb_categorie (
	cat_id INT4 DEFAULT nextval('phpbb_kb_categorie_seq'),
	right_id INT4 DEFAULT '0' NOT NULL CHECK (right_id >= 0),
	left_id INT4 DEFAULT '0' NOT NULL CHECK (left_id >= 0),
	parent_id INT4 DEFAULT '0' NOT NULL CHECK (parent_id >= 0),
	cat_mode INT2 DEFAULT '0' NOT NULL CHECK (cat_mode >= 0),
	cat_parents varchar(255) DEFAULT '' NOT NULL,
	show_edits INT2 DEFAULT '0' NOT NULL CHECK (show_edits >= 0),
	post_forum INT4 DEFAULT '0' NOT NULL CHECK (post_forum >= 0),
	cat_title varchar(255) DEFAULT '' NOT NULL,
	description varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_options INT4 DEFAULT '0' NOT NULL,
	image varchar(255) DEFAULT '' NOT NULL,
	display_on_index INT2 DEFAULT '0' NOT NULL CHECK (display_on_index >= 0),
	cat_articles INT4 DEFAULT '0' NOT NULL CHECK (cat_articles >= 0),
	last_article_url varchar(255) DEFAULT '' NOT NULL,
	last_article_time INT4 DEFAULT '0' NOT NULL CHECK (last_article_time >= 0),
	last_article_id INT4 DEFAULT '0' NOT NULL CHECK (last_article_id >= 0),
	last_article_poster_name varchar(255) DEFAULT '' NOT NULL,
	last_article_poster_id INT4 DEFAULT '0' NOT NULL CHECK (last_article_poster_id >= 0),
	last_article_poster_colour INT4 DEFAULT '0' NOT NULL CHECK (last_article_poster_colour >= 0),
	last_article_title varchar(255) DEFAULT '' NOT NULL,
	ads TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (cat_id)
);


/*
	Table: 'phpbb_kb_changelog'
*/
CREATE SEQUENCE phpbb_kb_changelog_seq;

CREATE TABLE phpbb_kb_changelog (
	log_id INT4 DEFAULT nextval('phpbb_kb_changelog_seq'),
	article_id INT4 DEFAULT '0' NOT NULL CHECK (article_id >= 0),
	time INT4 DEFAULT '0' NOT NULL CHECK (time >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	reason TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (log_id)
);


/*
	Table: 'phpbb_kb_config'
*/
CREATE TABLE phpbb_kb_config (
	config_name varchar(100) DEFAULT '' NOT NULL,
	config_value TEXT DEFAULT '' NOT NULL,
	config_type INT2 DEFAULT '1' NOT NULL CHECK (config_type >= 0),
	PRIMARY KEY (config_name)
);


/*
	Table: 'phpbb_kb_rating'
*/
CREATE TABLE phpbb_kb_rating (
	article_id INT4 DEFAULT '0' NOT NULL CHECK (article_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	points INT4 DEFAULT '0' NOT NULL CHECK (points >= 0),
	PRIMARY KEY (article_id)
);


/*
	Table: 'phpbb_kb_reports'
*/
CREATE SEQUENCE phpbb_kb_reports_seq;

CREATE TABLE phpbb_kb_reports (
	report_id INT4 DEFAULT nextval('phpbb_kb_reports_seq'),
	reason_id INT2 DEFAULT '0' NOT NULL CHECK (reason_id >= 0),
	article_id INT4 DEFAULT '0' NOT NULL CHECK (article_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	user_notify INT2 DEFAULT '0' NOT NULL CHECK (user_notify >= 0),
	report_closed INT2 DEFAULT '0' NOT NULL CHECK (report_closed >= 0),
	report_time INT4 DEFAULT '0' NOT NULL CHECK (report_time >= 0),
	report_text TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (report_id)
);


/*
	Table: 'phpbb_kb_types'
*/
CREATE SEQUENCE phpbb_kb_types_seq;

CREATE TABLE phpbb_kb_types (
	type_id INT4 DEFAULT nextval('phpbb_kb_types_seq'),
	name varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (type_id)
);


/*
	Table: 'phpbb_k_blocks'
*/
CREATE SEQUENCE phpbb_k_blocks_seq;

CREATE TABLE phpbb_k_blocks (
	id INT4 DEFAULT nextval('phpbb_k_blocks_seq'),
	ndx INT4 DEFAULT '0' NOT NULL CHECK (ndx >= 0),
	title varchar(50) DEFAULT '' NOT NULL,
	position char(1) DEFAULT 'L' NOT NULL,
	type char(1) DEFAULT 'H' NOT NULL,
	active INT2 DEFAULT '1' NOT NULL CHECK (active >= 0),
	html_file_name varchar(255) DEFAULT '' NOT NULL,
	var_file_name varchar(255) DEFAULT 'none.gif' NOT NULL,
	img_file_name varchar(255) DEFAULT 'none.gif' NOT NULL,
	view_all INT2 DEFAULT '1' NOT NULL CHECK (view_all >= 0),
	view_groups varchar(100) DEFAULT '' NOT NULL,
	view_pages varchar(100) DEFAULT '' NOT NULL,
	`groups` INT4 DEFAULT '0' NOT NULL CHECK (`groups` >= 0),
	scroll INT2 DEFAULT '0' NOT NULL CHECK (scroll >= 0),
	block_height INT2 DEFAULT '0' NOT NULL CHECK (block_height >= 0),
	has_vars INT2 DEFAULT '0' NOT NULL CHECK (has_vars >= 0),
	is_static INT2 DEFAULT '0' NOT NULL CHECK (is_static >= 0),
	minimod_based INT2 DEFAULT '0' NOT NULL CHECK (minimod_based >= 0),
	mod_block_id INT4 DEFAULT '0' NOT NULL CHECK (mod_block_id >= 0),
	block_cache_time INT4 DEFAULT '600' NOT NULL CHECK (block_cache_time >= 0),
	PRIMARY KEY (id)
);

CREATE INDEX phpbb_k_blocks_ndx ON phpbb_k_blocks (ndx);

/*
	Table: 'phpbb_k_blocks_config'
*/
CREATE SEQUENCE phpbb_k_blocks_config_seq;

CREATE TABLE phpbb_k_blocks_config (
	id INT4 DEFAULT nextval('phpbb_k_blocks_config_seq'),
	use_external_files INT2 DEFAULT '0' NOT NULL CHECK (use_external_files >= 0),
	update_files INT2 DEFAULT '0' NOT NULL CHECK (update_files >= 0),
	layout_default INT2 DEFAULT '2' NOT NULL CHECK (layout_default >= 0),
	portal_config varchar(10) DEFAULT 'Site' NOT NULL,
	PRIMARY KEY (id)
);


/*
	Table: 'phpbb_k_config_vars'
*/
CREATE TABLE phpbb_k_config_vars (
	config_name varchar(255) DEFAULT '' NOT NULL,
	config_value varchar(255) DEFAULT '' NOT NULL,
	is_dynamic INT2 DEFAULT '0' NOT NULL CHECK (is_dynamic >= 0),
	PRIMARY KEY (config_name)
);

CREATE INDEX phpbb_k_config_vars_is_dynamic ON phpbb_k_config_vars (is_dynamic);

/*
	Table: 'phpbb_k_menus'
*/
CREATE SEQUENCE phpbb_k_menus_seq;

CREATE TABLE phpbb_k_menus (
	m_id INT4 DEFAULT nextval('phpbb_k_menus_seq'),
	ndx INT4 DEFAULT '0' NOT NULL CHECK (ndx >= 0),
	menu_type INT2 DEFAULT '0' NOT NULL CHECK (menu_type >= 0),
	name varchar(50) DEFAULT '' NOT NULL,
	link_to varchar(255) DEFAULT '' NOT NULL,
	extern INT2 DEFAULT '0' NOT NULL CHECK (extern >= 0),
	menu_icon varchar(30) DEFAULT 'none.gif' NOT NULL,
	append_sid INT2 DEFAULT '1' NOT NULL CHECK (append_sid >= 0),
	append_uid INT2 DEFAULT '0' NOT NULL CHECK (append_uid >= 0),
	view_all INT2 DEFAULT '1' NOT NULL CHECK (view_all >= 0),
	view_groups varchar(100) DEFAULT '' NOT NULL,
	soft_hr INT2 DEFAULT '0' NOT NULL CHECK (soft_hr >= 0),
	sub_heading INT2 DEFAULT '0' NOT NULL CHECK (sub_heading >= 0),
	PRIMARY KEY (m_id)
);


/*
	Table: 'phpbb_k_pages'
*/
CREATE SEQUENCE phpbb_k_pages_seq;

CREATE TABLE phpbb_k_pages (
	page_id INT4 DEFAULT nextval('phpbb_k_pages_seq'),
	page_name varchar(100) DEFAULT '' NOT NULL,
	PRIMARY KEY (page_id)
);


/*
	Table: 'phpbb_k_resources'
*/
CREATE SEQUENCE phpbb_k_resources_seq;

CREATE TABLE phpbb_k_resources (
	id INT4 DEFAULT nextval('phpbb_k_resources_seq'),
	word varchar(30) DEFAULT '' NOT NULL,
	type char(1) DEFAULT 'V' NOT NULL,
	PRIMARY KEY (id)
);


/*
	Table: 'phpbb_lang'
*/
CREATE SEQUENCE phpbb_lang_seq;

CREATE TABLE phpbb_lang (
	lang_id INT2 DEFAULT nextval('phpbb_lang_seq'),
	lang_iso varchar(30) DEFAULT '' NOT NULL,
	lang_dir varchar(30) DEFAULT '' NOT NULL,
	lang_english_name varchar(100) DEFAULT '' NOT NULL,
	lang_local_name varchar(255) DEFAULT '' NOT NULL,
	lang_author varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (lang_id)
);

CREATE INDEX phpbb_lang_lang_iso ON phpbb_lang (lang_iso);

/*
	Table: 'phpbb_likes'
*/
CREATE SEQUENCE phpbb_likes_seq;

CREATE TABLE phpbb_likes (
	like_id INT4 DEFAULT nextval('phpbb_likes_seq'),
	post_id INT4 DEFAULT '0' NOT NULL CHECK (post_id >= 0),
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	poster_id INT4 DEFAULT '0' NOT NULL CHECK (poster_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	like_date INT4 DEFAULT '0' NOT NULL,
	like_state INT4 DEFAULT '0' NOT NULL CHECK (like_state >= 0),
	like_read INT4 DEFAULT '0' NOT NULL CHECK (like_read >= 0),
	PRIMARY KEY (like_id)
);


/*
	Table: 'phpbb_log'
*/
CREATE SEQUENCE phpbb_log_seq;

CREATE TABLE phpbb_log (
	log_id INT4 DEFAULT nextval('phpbb_log_seq'),
	log_type INT2 DEFAULT '0' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	reportee_id INT4 DEFAULT '0' NOT NULL CHECK (reportee_id >= 0),
	log_ip varchar(40) DEFAULT '' NOT NULL,
	log_time INT4 DEFAULT '0' NOT NULL CHECK (log_time >= 0),
	log_operation varchar(4000) DEFAULT '' NOT NULL,
	log_data TEXT DEFAULT '' NOT NULL,
	album_id INT4 DEFAULT '0' NOT NULL CHECK (album_id >= 0),
	image_id INT4 DEFAULT '0' NOT NULL CHECK (image_id >= 0),
	PRIMARY KEY (log_id)
);

CREATE INDEX phpbb_log_log_type ON phpbb_log (log_type);
CREATE INDEX phpbb_log_forum_id ON phpbb_log (forum_id);
CREATE INDEX phpbb_log_topic_id ON phpbb_log (topic_id);
CREATE INDEX phpbb_log_reportee_id ON phpbb_log (reportee_id);
CREATE INDEX phpbb_log_user_id ON phpbb_log (user_id);

/*
	Table: 'phpbb_login_attempts'
*/
CREATE TABLE phpbb_login_attempts (
	attempt_ip varchar(40) DEFAULT '' NOT NULL,
	attempt_browser varchar(150) DEFAULT '' NOT NULL,
	attempt_forwarded_for varchar(255) DEFAULT '' NOT NULL,
	attempt_time INT4 DEFAULT '0' NOT NULL CHECK (attempt_time >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	username varchar(255) DEFAULT '0' NOT NULL,
	username_clean varchar_ci DEFAULT '0' NOT NULL
);

CREATE INDEX phpbb_login_attempts_att_ip ON phpbb_login_attempts (attempt_ip, attempt_time);
CREATE INDEX phpbb_login_attempts_att_for ON phpbb_login_attempts (attempt_forwarded_for, attempt_time);
CREATE INDEX phpbb_login_attempts_att_time ON phpbb_login_attempts (attempt_time);
CREATE INDEX phpbb_login_attempts_user_id ON phpbb_login_attempts (user_id);

/*
	Table: 'phpbb_mchat'
*/
CREATE SEQUENCE phpbb_mchat_seq;

CREATE TABLE phpbb_mchat (
	message_id INT4 DEFAULT nextval('phpbb_mchat_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	user_ip varchar(40) DEFAULT '' NOT NULL,
	message TEXT DEFAULT '' NOT NULL,
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	bbcode_options INT2 DEFAULT '7' NOT NULL CHECK (bbcode_options >= 0),
	message_time INT4 DEFAULT '0' NOT NULL CHECK (message_time >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	post_id INT4 DEFAULT '0' NOT NULL CHECK (post_id >= 0),
	PRIMARY KEY (message_id)
);

CREATE INDEX phpbb_mchat_user_id ON phpbb_mchat (user_id);

/*
	Table: 'phpbb_mchat_config'
*/
CREATE TABLE phpbb_mchat_config (
	config_name varchar(255) DEFAULT '' NOT NULL,
	config_value varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (config_name)
);


/*
	Table: 'phpbb_mchat_sessions'
*/
CREATE TABLE phpbb_mchat_sessions (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	user_lastupdate INT4 DEFAULT '0' NOT NULL CHECK (user_lastupdate >= 0),
	user_ip varchar(40) DEFAULT '' NOT NULL
);


/*
	Table: 'phpbb_meeting_comment'
*/
CREATE SEQUENCE phpbb_meeting_comment_seq;

CREATE TABLE phpbb_meeting_comment (
	comment_id INT4 DEFAULT nextval('phpbb_meeting_comment_seq'),
	meeting_id INT4 DEFAULT '0' NOT NULL CHECK (meeting_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL,
	meeting_comment TEXT DEFAULT '' NOT NULL,
	meeting_edit_time INT4 DEFAULT '0' NOT NULL,
	approve INT2 DEFAULT '0' NOT NULL CHECK (approve >= 0),
	uid varchar(8) DEFAULT '' NOT NULL,
	bitfield varchar(255) DEFAULT '' NOT NULL,
	flags INT4 DEFAULT '0' NOT NULL CHECK (flags >= 0),
	PRIMARY KEY (comment_id)
);


/*
	Table: 'phpbb_meeting_data'
*/
CREATE TABLE phpbb_meeting_data (
	meeting_id INT4 DEFAULT '0' NOT NULL CHECK (meeting_id >= 0),
	meeting_time INT4 DEFAULT '0' NOT NULL,
	meeting_until INT4 DEFAULT '0' NOT NULL,
	meeting_location varchar(255) DEFAULT '' NOT NULL,
	meeting_subject varchar(255) DEFAULT '' NOT NULL,
	meeting_desc TEXT DEFAULT '' NOT NULL,
	meeting_link varchar(255) DEFAULT '' NOT NULL,
	meeting_places INT4 DEFAULT '0' NOT NULL CHECK (meeting_places >= 0),
	meeting_by_user INT4 DEFAULT '0' NOT NULL CHECK (meeting_by_user >= 0),
	meeting_edit_by_user INT4 DEFAULT '0' NOT NULL CHECK (meeting_edit_by_user >= 0),
	meeting_start_value INT4 DEFAULT '0' NOT NULL CHECK (meeting_start_value >= 0),
	meeting_recure_value INT4 DEFAULT '0' NOT NULL CHECK (meeting_recure_value >= 0),
	meeting_notify INT2 DEFAULT '0' NOT NULL CHECK (meeting_notify >= 0),
	meeting_guest_overall INT4 DEFAULT '0' NOT NULL,
	meeting_guest_single INT4 DEFAULT '0' NOT NULL,
	meeting_guest_names INT2 DEFAULT '0' NOT NULL CHECK (meeting_guest_names >= 0),
	uid char(8) DEFAULT '' NOT NULL,
	bitfield varchar(255) DEFAULT '' NOT NULL,
	flags INT4 DEFAULT '0' NOT NULL CHECK (flags >= 0),
	meeting_end INT4 DEFAULT '0' NOT NULL,
	PRIMARY KEY (meeting_id)
);


/*
	Table: 'phpbb_meeting_guestnames'
*/
CREATE TABLE phpbb_meeting_guestnames (
	meeting_id INT4 DEFAULT '0' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL,
	guest_prename varchar(255) DEFAULT '' NOT NULL,
	guest_name varchar(255) DEFAULT '' NOT NULL
);


/*
	Table: 'phpbb_meeting_user'
*/
CREATE TABLE phpbb_meeting_user (
	meeting_id INT4 DEFAULT '0' NOT NULL CHECK (meeting_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL,
	meeting_sure INT2 DEFAULT '0' NOT NULL,
	meeting_guests INT4 DEFAULT '0' NOT NULL
);


/*
	Table: 'phpbb_meeting_usergroup'
*/
CREATE TABLE phpbb_meeting_usergroup (
	meeting_id INT4 DEFAULT '0' NOT NULL CHECK (meeting_id >= 0),
	meeting_group INT4 DEFAULT '0' NOT NULL
);


/*
	Table: 'phpbb_moderator_cache'
*/
CREATE TABLE phpbb_moderator_cache (
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	username varchar(255) DEFAULT '' NOT NULL,
	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
	group_name varchar(255) DEFAULT '' NOT NULL,
	display_on_index INT2 DEFAULT '1' NOT NULL CHECK (display_on_index >= 0)
);

CREATE INDEX phpbb_moderator_cache_disp_idx ON phpbb_moderator_cache (display_on_index);
CREATE INDEX phpbb_moderator_cache_forum_id ON phpbb_moderator_cache (forum_id);

/*
	Table: 'phpbb_mods'
*/
CREATE SEQUENCE phpbb_mods_seq;

CREATE TABLE phpbb_mods (
	mod_id INT4 DEFAULT nextval('phpbb_mods_seq'),
	mod_active INT2 DEFAULT '0' NOT NULL CHECK (mod_active >= 0),
	mod_time INT4 DEFAULT '0' NOT NULL CHECK (mod_time >= 0),
	mod_dependencies TEXT DEFAULT '' NOT NULL,
	mod_name varchar(4000) DEFAULT '' NOT NULL,
	mod_description varchar(4000) DEFAULT '' NOT NULL,
	mod_version varchar(25) DEFAULT '' NOT NULL,
	mod_author_notes varchar(4000) DEFAULT '' NOT NULL,
	mod_author_name varchar(100) DEFAULT '' NOT NULL,
	mod_author_email varchar(100) DEFAULT '' NOT NULL,
	mod_author_url varchar(100) DEFAULT '' NOT NULL,
	mod_actions TEXT DEFAULT '' NOT NULL,
	mod_languages varchar(255) DEFAULT '' NOT NULL,
	mod_template varchar(255) DEFAULT '' NOT NULL,
	mod_path varchar(255) DEFAULT '' NOT NULL,
	mod_contribs varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (mod_id)
);


/*
	Table: 'phpbb_mods_database'
*/
CREATE SEQUENCE phpbb_mods_database_seq;

CREATE TABLE phpbb_mods_database (
	mod_id INT2 DEFAULT nextval('phpbb_mods_database_seq'),
	mod_title varchar(50) DEFAULT '' NOT NULL,
	mod_version varchar(10) DEFAULT '' NOT NULL,
	mod_version_type varchar(10) DEFAULT '' NOT NULL,
	mod_desc varchar(4000) DEFAULT '' NOT NULL,
	mod_url varchar(100) DEFAULT '' NOT NULL,
	mod_author varchar(50) DEFAULT '' NOT NULL,
	mod_download varchar(255) DEFAULT '' NOT NULL,
	mod_phpbb_version varchar(10) DEFAULT '' NOT NULL,
	mod_comments varchar(4000) DEFAULT '' NOT NULL,
	mod_access INT2 DEFAULT '0' NOT NULL CHECK (mod_access >= 0),
	mod_author_email varchar(100) DEFAULT '' NOT NULL,
	mod_install_date INT4 DEFAULT '0' NOT NULL CHECK (mod_install_date >= 0),
	PRIMARY KEY (mod_id)
);


/*
	Table: 'phpbb_modules'
*/
CREATE SEQUENCE phpbb_modules_seq;

CREATE TABLE phpbb_modules (
	module_id INT4 DEFAULT nextval('phpbb_modules_seq'),
	module_enabled INT2 DEFAULT '1' NOT NULL CHECK (module_enabled >= 0),
	module_display INT2 DEFAULT '1' NOT NULL CHECK (module_display >= 0),
	module_basename varchar(255) DEFAULT '' NOT NULL,
	module_class varchar(10) DEFAULT '' NOT NULL,
	parent_id INT4 DEFAULT '0' NOT NULL CHECK (parent_id >= 0),
	left_id INT4 DEFAULT '0' NOT NULL CHECK (left_id >= 0),
	right_id INT4 DEFAULT '0' NOT NULL CHECK (right_id >= 0),
	module_langname varchar(255) DEFAULT '' NOT NULL,
	module_mode varchar(255) DEFAULT '' NOT NULL,
	module_auth varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (module_id)
);

CREATE INDEX phpbb_modules_left_right_id ON phpbb_modules (left_id, right_id);
CREATE INDEX phpbb_modules_module_enabled ON phpbb_modules (module_enabled);
CREATE INDEX phpbb_modules_class_left_id ON phpbb_modules (module_class, left_id);

/*
	Table: 'phpbb_notes'
*/
CREATE TABLE phpbb_notes (
	note_id INT4 DEFAULT '0' NOT NULL CHECK (note_id >= 0),
	note_user_id INT4 DEFAULT '0' NOT NULL CHECK (note_user_id >= 0),
	note_subject varchar(255) DEFAULT '' NOT NULL,
	note_text TEXT DEFAULT '' NOT NULL,
	note_time INT4 DEFAULT '0' NOT NULL CHECK (note_time >= 0),
	note_uid char(8) DEFAULT '1' NOT NULL,
	note_bitfield varchar(255) DEFAULT '' NOT NULL,
	note_flags INT4 DEFAULT '0' NOT NULL CHECK (note_flags >= 0),
	note_mem INT4 DEFAULT '0' NOT NULL CHECK (note_mem >= 0),
	note_memx INT2 DEFAULT '1' NOT NULL CHECK (note_memx >= 0),
	PRIMARY KEY (note_id)
);

CREATE INDEX phpbb_notes_note_user_id ON phpbb_notes (note_user_id);

/*
	Table: 'phpbb_pages'
*/
CREATE TABLE phpbb_pages (
	page_id INT4 DEFAULT '0' NOT NULL CHECK (page_id >= 0),
	page_title varchar(255) DEFAULT '' NOT NULL,
	page_desc TEXT DEFAULT '' NOT NULL,
	page_content TEXT DEFAULT '' NOT NULL,
	page_url varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	page_time INT4 DEFAULT '0' NOT NULL CHECK (page_time >= 0),
	page_order INT4 DEFAULT '0' NOT NULL CHECK (page_order >= 0),
	page_display INT2 DEFAULT '0' NOT NULL CHECK (page_display >= 0),
	page_display_guests INT2 DEFAULT '0' NOT NULL CHECK (page_display_guests >= 0),
	page_author INT4 DEFAULT '0' NOT NULL CHECK (page_author >= 0),
	PRIMARY KEY (page_id)
);


/*
	Table: 'phpbb_points_bank'
*/
CREATE SEQUENCE phpbb_points_bank_seq;

CREATE TABLE phpbb_points_bank (
	id INT4 DEFAULT nextval('phpbb_points_bank_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	holding decimal(20,2) DEFAULT '0' NOT NULL,
	totalwithdrew decimal(20,2) DEFAULT '0' NOT NULL,
	totaldeposit decimal(20,2) DEFAULT '0' NOT NULL,
	opentime INT4 DEFAULT '0' NOT NULL CHECK (opentime >= 0),
	fees char(5) DEFAULT 'on' NOT NULL,
	PRIMARY KEY (id)
);


/*
	Table: 'phpbb_points_config'
*/
CREATE TABLE phpbb_points_config (
	config_name varchar(255) DEFAULT '' NOT NULL,
	config_value varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (config_name)
);


/*
	Table: 'phpbb_points_log'
*/
CREATE SEQUENCE phpbb_points_log_seq;

CREATE TABLE phpbb_points_log (
	id INT4 DEFAULT nextval('phpbb_points_log_seq'),
	point_send INT4 NOT NULL CHECK (point_send >= 0),
	point_recv INT4 NOT NULL CHECK (point_recv >= 0),
	point_amount decimal(20,2) DEFAULT '0' NOT NULL,
	point_sendold decimal(20,2) DEFAULT '0' NOT NULL,
	point_recvold decimal(20,2) DEFAULT '0' NOT NULL,
	point_comment TEXT DEFAULT '' NOT NULL,
	point_type INT4 NOT NULL CHECK (point_type >= 0),
	point_date INT4 NOT NULL CHECK (point_date >= 0),
	PRIMARY KEY (id)
);


/*
	Table: 'phpbb_points_lottery_history'
*/
CREATE SEQUENCE phpbb_points_lottery_history_seq;

CREATE TABLE phpbb_points_lottery_history (
	id INT4 DEFAULT nextval('phpbb_points_lottery_history_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	user_name varchar(255) DEFAULT '' NOT NULL,
	time INT4 DEFAULT '0' NOT NULL CHECK (time >= 0),
	amount decimal(20,2) DEFAULT '0' NOT NULL,
	PRIMARY KEY (id)
);


/*
	Table: 'phpbb_points_lottery_tickets'
*/
CREATE SEQUENCE phpbb_points_lottery_tickets_seq;

CREATE TABLE phpbb_points_lottery_tickets (
	ticket_id INT4 DEFAULT nextval('phpbb_points_lottery_tickets_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	PRIMARY KEY (ticket_id)
);


/*
	Table: 'phpbb_points_values'
*/
CREATE TABLE phpbb_points_values (
	bank_cost decimal(10,2) DEFAULT '0' NOT NULL,
	bank_fees decimal(10,2) DEFAULT '0' NOT NULL,
	bank_interest decimal(10,2) DEFAULT '0' NOT NULL,
	bank_interestcut decimal(20,2) DEFAULT '0' NOT NULL,
	bank_last_restocked INT4 NOT NULL CHECK (bank_last_restocked >= 0),
	bank_min_deposit decimal(10,2) DEFAULT '0' NOT NULL,
	bank_min_withdraw decimal(10,2) DEFAULT '0' NOT NULL,
	bank_name varchar(100) NOT NULL,
	bank_pay_period INT4 DEFAULT '2592000' NOT NULL CHECK (bank_pay_period >= 0),
	lottery_base_amount decimal(10,2) DEFAULT '0' NOT NULL,
	lottery_chance decimal(5,2) DEFAULT '50' NOT NULL,
	lottery_draw_period INT4 DEFAULT '3600' NOT NULL CHECK (lottery_draw_period >= 0),
	lottery_jackpot decimal(20,2) DEFAULT '50' NOT NULL,
	lottery_last_draw_time INT4 NOT NULL CHECK (lottery_last_draw_time >= 0),
	lottery_max_tickets INT4 DEFAULT '10' NOT NULL CHECK (lottery_max_tickets >= 0),
	lottery_name varchar(100) DEFAULT '' NOT NULL,
	lottery_prev_winner varchar(255) DEFAULT '' NOT NULL,
	lottery_prev_winner_id INT4 DEFAULT '0' NOT NULL CHECK (lottery_prev_winner_id >= 0),
	lottery_ticket_cost decimal(10,2) DEFAULT '0' NOT NULL,
	lottery_winners_total INT4 DEFAULT '0' NOT NULL CHECK (lottery_winners_total >= 0),
	number_show_per_page INT4 DEFAULT '0' NOT NULL CHECK (number_show_per_page >= 0),
	number_show_top_points INT4 DEFAULT '0' NOT NULL CHECK (number_show_top_points >= 0),
	points_dl_cost_per_attach decimal(10,2) DEFAULT '0' NOT NULL,
	points_per_attach decimal(10,2) DEFAULT '0' NOT NULL,
	points_per_attach_file decimal(10,2) DEFAULT '0' NOT NULL,
	points_per_poll decimal(10,2) DEFAULT '0' NOT NULL,
	points_per_poll_option decimal(10,2) DEFAULT '0' NOT NULL,
	points_per_post_character decimal(10,2) DEFAULT '0' NOT NULL,
	points_per_post_word decimal(10,2) DEFAULT '0' NOT NULL,
	points_per_topic_character decimal(10,2) DEFAULT '0' NOT NULL,
	points_per_topic_word decimal(10,2) DEFAULT '0' NOT NULL,
	points_per_warn decimal(10,2) DEFAULT '0' NOT NULL,
	reg_points_bonus decimal(10,2) DEFAULT '0' NOT NULL,
	robbery_chance decimal(5,2) DEFAULT '0' NOT NULL,
	robbery_loose decimal(5,2) DEFAULT '0' NOT NULL,
	robbery_max_rob decimal(5,2) DEFAULT '10' NOT NULL,
	lottery_pm_from INT4 DEFAULT '0' NOT NULL CHECK (lottery_pm_from >= 0),
	forum_topic decimal(10,2) DEFAULT '0' NOT NULL,
	forum_post decimal(10,2) DEFAULT '0' NOT NULL,
	forum_edit decimal(10,2) DEFAULT '0' NOT NULL,
	gallery_upload decimal(10,2) DEFAULT '0' NOT NULL,
	gallery_remove decimal(10,2) DEFAULT '0' NOT NULL,
	gallery_view decimal(10,2) DEFAULT '0' NOT NULL
);


/*
	Table: 'phpbb_poll_options'
*/
CREATE TABLE phpbb_poll_options (
	poll_option_id INT2 DEFAULT '0' NOT NULL,
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	poll_option_text varchar(4000) DEFAULT '' NOT NULL,
	poll_option_total INT4 DEFAULT '0' NOT NULL CHECK (poll_option_total >= 0)
);

CREATE INDEX phpbb_poll_options_poll_opt_id ON phpbb_poll_options (poll_option_id);
CREATE INDEX phpbb_poll_options_topic_id ON phpbb_poll_options (topic_id);

/*
	Table: 'phpbb_poll_votes'
*/
CREATE TABLE phpbb_poll_votes (
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	poll_option_id INT2 DEFAULT '0' NOT NULL,
	vote_user_id INT4 DEFAULT '0' NOT NULL CHECK (vote_user_id >= 0),
	vote_user_ip varchar(40) DEFAULT '' NOT NULL
);

CREATE INDEX phpbb_poll_votes_topic_id ON phpbb_poll_votes (topic_id);
CREATE INDEX phpbb_poll_votes_vote_user_id ON phpbb_poll_votes (vote_user_id);
CREATE INDEX phpbb_poll_votes_vote_user_ip ON phpbb_poll_votes (vote_user_ip);

/*
	Table: 'phpbb_posts'
*/
CREATE SEQUENCE phpbb_posts_seq;

CREATE TABLE phpbb_posts (
	post_id INT4 DEFAULT nextval('phpbb_posts_seq'),
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	poster_id INT4 DEFAULT '0' NOT NULL CHECK (poster_id >= 0),
	icon_id INT4 DEFAULT '0' NOT NULL CHECK (icon_id >= 0),
	poster_ip varchar(40) DEFAULT '' NOT NULL,
	post_time INT4 DEFAULT '0' NOT NULL CHECK (post_time >= 0),
	post_approved INT2 DEFAULT '1' NOT NULL CHECK (post_approved >= 0),
	post_reported INT2 DEFAULT '0' NOT NULL CHECK (post_reported >= 0),
	enable_bbcode INT2 DEFAULT '1' NOT NULL CHECK (enable_bbcode >= 0),
	enable_smilies INT2 DEFAULT '1' NOT NULL CHECK (enable_smilies >= 0),
	enable_magic_url INT2 DEFAULT '1' NOT NULL CHECK (enable_magic_url >= 0),
	enable_sig INT2 DEFAULT '1' NOT NULL CHECK (enable_sig >= 0),
	post_username varchar(255) DEFAULT '' NOT NULL,
	post_subject varchar(255) DEFAULT '' NOT NULL,
	post_text TEXT DEFAULT '' NOT NULL,
	post_checksum varchar(32) DEFAULT '' NOT NULL,
	post_attachment INT2 DEFAULT '0' NOT NULL CHECK (post_attachment >= 0),
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	post_postcount INT2 DEFAULT '1' NOT NULL CHECK (post_postcount >= 0),
	post_edit_time INT4 DEFAULT '0' NOT NULL CHECK (post_edit_time >= 0),
	post_edit_reason varchar(255) DEFAULT '' NOT NULL,
	post_edit_user INT4 DEFAULT '0' NOT NULL CHECK (post_edit_user >= 0),
	post_edit_count INT2 DEFAULT '0' NOT NULL CHECK (post_edit_count >= 0),
	post_edit_locked INT2 DEFAULT '0' NOT NULL CHECK (post_edit_locked >= 0),
	points_received decimal(20,2) DEFAULT '0' NOT NULL,
	points_poll_received decimal(20,2) DEFAULT '0' NOT NULL,
	points_attachment_received decimal(20,2) DEFAULT '0' NOT NULL,
	points_topic_received decimal(20,2) DEFAULT '0' NOT NULL,
	points_post_received decimal(20,2) DEFAULT '0' NOT NULL,
	PRIMARY KEY (post_id)
);

CREATE INDEX phpbb_posts_forum_id ON phpbb_posts (forum_id);
CREATE INDEX phpbb_posts_topic_id ON phpbb_posts (topic_id);
CREATE INDEX phpbb_posts_poster_ip ON phpbb_posts (poster_ip);
CREATE INDEX phpbb_posts_poster_id ON phpbb_posts (poster_id);
CREATE INDEX phpbb_posts_post_approved ON phpbb_posts (post_approved);
CREATE INDEX phpbb_posts_post_username ON phpbb_posts (post_username);
CREATE INDEX phpbb_posts_tid_post_time ON phpbb_posts (topic_id, post_time);

/*
	Table: 'phpbb_privmsgs'
*/
CREATE SEQUENCE phpbb_privmsgs_seq;

CREATE TABLE phpbb_privmsgs (
	msg_id INT4 DEFAULT nextval('phpbb_privmsgs_seq'),
	root_level INT4 DEFAULT '0' NOT NULL CHECK (root_level >= 0),
	author_id INT4 DEFAULT '0' NOT NULL CHECK (author_id >= 0),
	icon_id INT4 DEFAULT '0' NOT NULL CHECK (icon_id >= 0),
	author_ip varchar(40) DEFAULT '' NOT NULL,
	message_time INT4 DEFAULT '0' NOT NULL CHECK (message_time >= 0),
	enable_bbcode INT2 DEFAULT '1' NOT NULL CHECK (enable_bbcode >= 0),
	enable_smilies INT2 DEFAULT '1' NOT NULL CHECK (enable_smilies >= 0),
	enable_magic_url INT2 DEFAULT '1' NOT NULL CHECK (enable_magic_url >= 0),
	enable_sig INT2 DEFAULT '1' NOT NULL CHECK (enable_sig >= 0),
	message_subject varchar(255) DEFAULT '' NOT NULL,
	message_text TEXT DEFAULT '' NOT NULL,
	message_edit_reason varchar(255) DEFAULT '' NOT NULL,
	message_edit_user INT4 DEFAULT '0' NOT NULL CHECK (message_edit_user >= 0),
	message_attachment INT2 DEFAULT '0' NOT NULL CHECK (message_attachment >= 0),
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	message_edit_time INT4 DEFAULT '0' NOT NULL CHECK (message_edit_time >= 0),
	message_edit_count INT2 DEFAULT '0' NOT NULL CHECK (message_edit_count >= 0),
	to_address varchar(4000) DEFAULT '' NOT NULL,
	bcc_address varchar(4000) DEFAULT '' NOT NULL,
	message_reported INT2 DEFAULT '0' NOT NULL CHECK (message_reported >= 0),
	PRIMARY KEY (msg_id)
);

CREATE INDEX phpbb_privmsgs_author_ip ON phpbb_privmsgs (author_ip);
CREATE INDEX phpbb_privmsgs_message_time ON phpbb_privmsgs (message_time);
CREATE INDEX phpbb_privmsgs_author_id ON phpbb_privmsgs (author_id);
CREATE INDEX phpbb_privmsgs_root_level ON phpbb_privmsgs (root_level);

/*
	Table: 'phpbb_privmsgs_folder'
*/
CREATE SEQUENCE phpbb_privmsgs_folder_seq;

CREATE TABLE phpbb_privmsgs_folder (
	folder_id INT4 DEFAULT nextval('phpbb_privmsgs_folder_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	folder_name varchar(255) DEFAULT '' NOT NULL,
	pm_count INT4 DEFAULT '0' NOT NULL CHECK (pm_count >= 0),
	PRIMARY KEY (folder_id)
);

CREATE INDEX phpbb_privmsgs_folder_user_id ON phpbb_privmsgs_folder (user_id);

/*
	Table: 'phpbb_privmsgs_rules'
*/
CREATE SEQUENCE phpbb_privmsgs_rules_seq;

CREATE TABLE phpbb_privmsgs_rules (
	rule_id INT4 DEFAULT nextval('phpbb_privmsgs_rules_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	rule_check INT4 DEFAULT '0' NOT NULL CHECK (rule_check >= 0),
	rule_connection INT4 DEFAULT '0' NOT NULL CHECK (rule_connection >= 0),
	rule_string varchar(255) DEFAULT '' NOT NULL,
	rule_user_id INT4 DEFAULT '0' NOT NULL CHECK (rule_user_id >= 0),
	rule_group_id INT4 DEFAULT '0' NOT NULL CHECK (rule_group_id >= 0),
	rule_action INT4 DEFAULT '0' NOT NULL CHECK (rule_action >= 0),
	rule_folder_id INT4 DEFAULT '0' NOT NULL,
	PRIMARY KEY (rule_id)
);

CREATE INDEX phpbb_privmsgs_rules_user_id ON phpbb_privmsgs_rules (user_id);

/*
	Table: 'phpbb_privmsgs_to'
*/
CREATE TABLE phpbb_privmsgs_to (
	msg_id INT4 DEFAULT '0' NOT NULL CHECK (msg_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	author_id INT4 DEFAULT '0' NOT NULL CHECK (author_id >= 0),
	pm_deleted INT2 DEFAULT '0' NOT NULL CHECK (pm_deleted >= 0),
	pm_new INT2 DEFAULT '1' NOT NULL CHECK (pm_new >= 0),
	pm_unread INT2 DEFAULT '1' NOT NULL CHECK (pm_unread >= 0),
	pm_replied INT2 DEFAULT '0' NOT NULL CHECK (pm_replied >= 0),
	pm_marked INT2 DEFAULT '0' NOT NULL CHECK (pm_marked >= 0),
	pm_forwarded INT2 DEFAULT '0' NOT NULL CHECK (pm_forwarded >= 0),
	folder_id INT4 DEFAULT '0' NOT NULL
);

CREATE INDEX phpbb_privmsgs_to_msg_id ON phpbb_privmsgs_to (msg_id);
CREATE INDEX phpbb_privmsgs_to_author_id ON phpbb_privmsgs_to (author_id);
CREATE INDEX phpbb_privmsgs_to_usr_flder_id ON phpbb_privmsgs_to (user_id, folder_id);

/*
	Table: 'phpbb_profile_fields'
*/
CREATE SEQUENCE phpbb_profile_fields_seq;

CREATE TABLE phpbb_profile_fields (
	field_id INT4 DEFAULT nextval('phpbb_profile_fields_seq'),
	field_name varchar(255) DEFAULT '' NOT NULL,
	field_type INT2 DEFAULT '0' NOT NULL,
	field_ident varchar(20) DEFAULT '' NOT NULL,
	field_length varchar(20) DEFAULT '' NOT NULL,
	field_minlen varchar(255) DEFAULT '' NOT NULL,
	field_maxlen varchar(255) DEFAULT '' NOT NULL,
	field_novalue varchar(255) DEFAULT '' NOT NULL,
	field_default_value varchar(255) DEFAULT '' NOT NULL,
	field_validation varchar(20) DEFAULT '' NOT NULL,
	field_required INT2 DEFAULT '0' NOT NULL CHECK (field_required >= 0),
	field_show_novalue INT2 DEFAULT '0' NOT NULL CHECK (field_show_novalue >= 0),
	field_show_on_reg INT2 DEFAULT '0' NOT NULL CHECK (field_show_on_reg >= 0),
	field_show_on_vt INT2 DEFAULT '0' NOT NULL CHECK (field_show_on_vt >= 0),
	field_show_profile INT2 DEFAULT '0' NOT NULL CHECK (field_show_profile >= 0),
	field_hide INT2 DEFAULT '0' NOT NULL CHECK (field_hide >= 0),
	field_no_view INT2 DEFAULT '0' NOT NULL CHECK (field_no_view >= 0),
	field_active INT2 DEFAULT '0' NOT NULL CHECK (field_active >= 0),
	field_order INT4 DEFAULT '0' NOT NULL CHECK (field_order >= 0),
	PRIMARY KEY (field_id)
);

CREATE INDEX phpbb_profile_fields_fld_type ON phpbb_profile_fields (field_type);
CREATE INDEX phpbb_profile_fields_fld_ordr ON phpbb_profile_fields (field_order);

/*
	Table: 'phpbb_profile_fields_data'
*/
CREATE TABLE phpbb_profile_fields_data (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	pf_fcol varchar(4000) DEFAULT '' NOT NULL,
	pf_reg_reason varchar(4000) DEFAULT '' NOT NULL,
	PRIMARY KEY (user_id)
);


/*
	Table: 'phpbb_profile_fields_lang'
*/
CREATE TABLE phpbb_profile_fields_lang (
	field_id INT4 DEFAULT '0' NOT NULL CHECK (field_id >= 0),
	lang_id INT4 DEFAULT '0' NOT NULL CHECK (lang_id >= 0),
	option_id INT4 DEFAULT '0' NOT NULL CHECK (option_id >= 0),
	field_type INT2 DEFAULT '0' NOT NULL,
	lang_value varchar(255) DEFAULT '' NOT NULL,
	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
	group_name varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (field_id, lang_id, option_id)
);


/*
	Table: 'phpbb_profile_lang'
*/
CREATE TABLE phpbb_profile_lang (
	field_id INT4 DEFAULT '0' NOT NULL CHECK (field_id >= 0),
	lang_id INT4 DEFAULT '0' NOT NULL CHECK (lang_id >= 0),
	lang_name varchar(255) DEFAULT '' NOT NULL,
	lang_explain varchar(4000) DEFAULT '' NOT NULL,
	lang_default_value varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (field_id, lang_id)
);


/*
	Table: 'phpbb_qa_confirm'
*/
CREATE TABLE phpbb_qa_confirm (
	session_id char(32) DEFAULT '' NOT NULL,
	confirm_id char(32) DEFAULT '' NOT NULL,
	lang_iso varchar(30) DEFAULT '' NOT NULL,
	question_id INT4 DEFAULT '0' NOT NULL CHECK (question_id >= 0),
	attempts INT4 DEFAULT '0' NOT NULL CHECK (attempts >= 0),
	confirm_type INT2 DEFAULT '0' NOT NULL CHECK (confirm_type >= 0),
	PRIMARY KEY (confirm_id)
);

CREATE INDEX phpbb_qa_confirm_session_id ON phpbb_qa_confirm (session_id);
CREATE INDEX phpbb_qa_confirm_lookup ON phpbb_qa_confirm (confirm_id);

/*
	Table: 'phpbb_ranks'
*/
CREATE SEQUENCE phpbb_ranks_seq;

CREATE TABLE phpbb_ranks (
	rank_id INT4 DEFAULT nextval('phpbb_ranks_seq'),
	rank_title varchar(255) DEFAULT '' NOT NULL,
	rank_min INT4 DEFAULT '0' NOT NULL CHECK (rank_min >= 0),
	rank_special INT2 DEFAULT '0' NOT NULL CHECK (rank_special >= 0),
	rank_image varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (rank_id)
);


/*
	Table: 'phpbb_reports'
*/
CREATE SEQUENCE phpbb_reports_seq;

CREATE TABLE phpbb_reports (
	report_id INT4 DEFAULT nextval('phpbb_reports_seq'),
	reason_id INT2 DEFAULT '0' NOT NULL CHECK (reason_id >= 0),
	post_id INT4 DEFAULT '0' NOT NULL CHECK (post_id >= 0),
	pm_id INT4 DEFAULT '0' NOT NULL CHECK (pm_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	user_notify INT2 DEFAULT '0' NOT NULL CHECK (user_notify >= 0),
	report_closed INT2 DEFAULT '0' NOT NULL CHECK (report_closed >= 0),
	report_time INT4 DEFAULT '0' NOT NULL CHECK (report_time >= 0),
	report_text TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (report_id)
);

CREATE INDEX phpbb_reports_post_id ON phpbb_reports (post_id);
CREATE INDEX phpbb_reports_pm_id ON phpbb_reports (pm_id);

/*
	Table: 'phpbb_reports_reasons'
*/
CREATE SEQUENCE phpbb_reports_reasons_seq;

CREATE TABLE phpbb_reports_reasons (
	reason_id INT2 DEFAULT nextval('phpbb_reports_reasons_seq'),
	reason_title varchar(255) DEFAULT '' NOT NULL,
	reason_description TEXT DEFAULT '' NOT NULL,
	reason_order INT2 DEFAULT '0' NOT NULL CHECK (reason_order >= 0),
	PRIMARY KEY (reason_id)
);


/*
	Table: 'phpbb_search_results'
*/
CREATE TABLE phpbb_search_results (
	search_key varchar(32) DEFAULT '' NOT NULL,
	search_time INT4 DEFAULT '0' NOT NULL CHECK (search_time >= 0),
	search_keywords TEXT DEFAULT '' NOT NULL,
	search_authors TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (search_key)
);


/*
	Table: 'phpbb_search_wordlist'
*/
CREATE SEQUENCE phpbb_search_wordlist_seq;

CREATE TABLE phpbb_search_wordlist (
	word_id INT4 DEFAULT nextval('phpbb_search_wordlist_seq'),
	word_text varchar(255) DEFAULT '' NOT NULL,
	word_common INT2 DEFAULT '0' NOT NULL CHECK (word_common >= 0),
	word_count INT4 DEFAULT '0' NOT NULL CHECK (word_count >= 0),
	PRIMARY KEY (word_id)
);

CREATE UNIQUE INDEX phpbb_search_wordlist_wrd_txt ON phpbb_search_wordlist (word_text);
CREATE INDEX phpbb_search_wordlist_wrd_cnt ON phpbb_search_wordlist (word_count);

/*
	Table: 'phpbb_search_wordmatch'
*/
CREATE TABLE phpbb_search_wordmatch (
	post_id INT4 DEFAULT '0' NOT NULL CHECK (post_id >= 0),
	word_id INT4 DEFAULT '0' NOT NULL CHECK (word_id >= 0),
	title_match INT2 DEFAULT '0' NOT NULL CHECK (title_match >= 0)
);

CREATE UNIQUE INDEX phpbb_search_wordmatch_unq_mtch ON phpbb_search_wordmatch (word_id, post_id, title_match);
CREATE INDEX phpbb_search_wordmatch_word_id ON phpbb_search_wordmatch (word_id);
CREATE INDEX phpbb_search_wordmatch_post_id ON phpbb_search_wordmatch (post_id);

/*
	Table: 'phpbb_sessions'
*/
CREATE TABLE phpbb_sessions (
	session_id char(32) DEFAULT '' NOT NULL,
	session_user_id INT4 DEFAULT '0' NOT NULL CHECK (session_user_id >= 0),
	session_forum_id INT4 DEFAULT '0' NOT NULL CHECK (session_forum_id >= 0),
	session_last_visit INT4 DEFAULT '0' NOT NULL CHECK (session_last_visit >= 0),
	session_start INT4 DEFAULT '0' NOT NULL CHECK (session_start >= 0),
	session_time INT4 DEFAULT '0' NOT NULL CHECK (session_time >= 0),
	session_ip varchar(40) DEFAULT '' NOT NULL,
	session_browser varchar(150) DEFAULT '' NOT NULL,
	session_forwarded_for varchar(255) DEFAULT '' NOT NULL,
	session_page varchar(255) DEFAULT '' NOT NULL,
	session_viewonline INT2 DEFAULT '1' NOT NULL CHECK (session_viewonline >= 0),
	session_autologin INT2 DEFAULT '0' NOT NULL CHECK (session_autologin >= 0),
	session_admin INT2 DEFAULT '0' NOT NULL CHECK (session_admin >= 0),
	session_album_id INT4 DEFAULT '0' NOT NULL CHECK (session_album_id >= 0),
	PRIMARY KEY (session_id)
);

CREATE INDEX phpbb_sessions_session_time ON phpbb_sessions (session_time);
CREATE INDEX phpbb_sessions_session_user_id ON phpbb_sessions (session_user_id);
CREATE INDEX phpbb_sessions_session_fid ON phpbb_sessions (session_forum_id);
CREATE INDEX phpbb_sessions_session_aid ON phpbb_sessions (session_album_id);

/*
	Table: 'phpbb_sessions_keys'
*/
CREATE TABLE phpbb_sessions_keys (
	key_id char(32) DEFAULT '' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	last_ip varchar(40) DEFAULT '' NOT NULL,
	last_login INT4 DEFAULT '0' NOT NULL CHECK (last_login >= 0),
	PRIMARY KEY (key_id, user_id)
);

CREATE INDEX phpbb_sessions_keys_last_login ON phpbb_sessions_keys (last_login);

/*
	Table: 'phpbb_shoutbox'
*/
CREATE SEQUENCE phpbb_shoutbox_seq;

CREATE TABLE phpbb_shoutbox (
	shout_id INT4 DEFAULT nextval('phpbb_shoutbox_seq'),
	shout_user_id INT4 DEFAULT '0' NOT NULL CHECK (shout_user_id >= 0),
	shout_time INT4 DEFAULT '0' NOT NULL CHECK (shout_time >= 0),
	shout_ip varchar(40) DEFAULT '' NOT NULL,
	shout_text TEXT DEFAULT '' NOT NULL,
	shout_bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	shout_bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	shout_bbcode_flags INT4 DEFAULT '7' NOT NULL,
	PRIMARY KEY (shout_id)
);


/*
	Table: 'phpbb_sitelist'
*/
CREATE SEQUENCE phpbb_sitelist_seq;

CREATE TABLE phpbb_sitelist (
	site_id INT4 DEFAULT nextval('phpbb_sitelist_seq'),
	site_ip varchar(40) DEFAULT '' NOT NULL,
	site_hostname varchar(255) DEFAULT '' NOT NULL,
	ip_exclude INT2 DEFAULT '0' NOT NULL CHECK (ip_exclude >= 0),
	PRIMARY KEY (site_id)
);


/*
	Table: 'phpbb_smilies'
*/
CREATE SEQUENCE phpbb_smilies_seq;

CREATE TABLE phpbb_smilies (
	smiley_id INT4 DEFAULT nextval('phpbb_smilies_seq'),
	code varchar(50) DEFAULT '' NOT NULL,
	emotion varchar(50) DEFAULT '' NOT NULL,
	smiley_url varchar(50) DEFAULT '' NOT NULL,
	smiley_width INT2 DEFAULT '0' NOT NULL CHECK (smiley_width >= 0),
	smiley_height INT2 DEFAULT '0' NOT NULL CHECK (smiley_height >= 0),
	smiley_order INT4 DEFAULT '0' NOT NULL CHECK (smiley_order >= 0),
	display_on_posting INT2 DEFAULT '1' NOT NULL CHECK (display_on_posting >= 0),
	smiley_group INT2 DEFAULT '0' NOT NULL CHECK (smiley_group >= 0),
	PRIMARY KEY (smiley_id)
);

CREATE INDEX phpbb_smilies_display_on_post ON phpbb_smilies (display_on_posting);

/*
	Table: 'phpbb_sn_config'
*/
CREATE TABLE phpbb_sn_config (
	config_name varchar(255) DEFAULT '' NOT NULL,
	config_value varchar(255) DEFAULT '' NOT NULL,
	is_dynamic INT2 DEFAULT '0' NOT NULL CHECK (is_dynamic >= 0),
	PRIMARY KEY (config_name)
);

CREATE INDEX phpbb_sn_config_a ON phpbb_sn_config (is_dynamic);

/*
	Table: 'phpbb_sn_users'
*/
CREATE TABLE phpbb_sn_users (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	user_status varchar(8000) DEFAULT '' NOT NULL,
	user_im_online INT2 DEFAULT '1' NOT NULL CHECK (user_im_online >= 0),
	user_zebra_alert_friend INT2 DEFAULT '1' NOT NULL CHECK (user_zebra_alert_friend >= 0),
	user_note varchar(8000) DEFAULT '' NOT NULL,
	user_im_sound INT2 DEFAULT '1' NOT NULL,
	user_im_soundname varchar(255) DEFAULT 'IM_New-message-1.mp3' NOT NULL,
	hometown varchar(255) DEFAULT '' NOT NULL,
	sex INT2 DEFAULT '0' NOT NULL,
	interested_in INT2 DEFAULT '0' NOT NULL,
	languages varchar(8000) DEFAULT '' NOT NULL,
	about_me varchar(8000) DEFAULT '' NOT NULL,
	employer varchar(8000) DEFAULT '' NOT NULL,
	university varchar(8000) DEFAULT '' NOT NULL,
	high_school varchar(8000) DEFAULT '' NOT NULL,
	religion varchar(8000) DEFAULT '' NOT NULL,
	political_views varchar(8000) DEFAULT '' NOT NULL,
	quotations varchar(8000) DEFAULT '' NOT NULL,
	music varchar(8000) DEFAULT '' NOT NULL,
	books varchar(8000) DEFAULT '' NOT NULL,
	movies varchar(8000) DEFAULT '' NOT NULL,
	games varchar(8000) DEFAULT '' NOT NULL,
	foods varchar(8000) DEFAULT '' NOT NULL,
	sports varchar(8000) DEFAULT '' NOT NULL,
	sport_teams varchar(8000) DEFAULT '' NOT NULL,
	activities varchar(8000) DEFAULT '' NOT NULL,
	skype varchar(32) DEFAULT '' NOT NULL,
	facebook varchar(255) DEFAULT '' NOT NULL,
	twitter varchar(255) DEFAULT '' NOT NULL,
	youtube varchar(255) DEFAULT '' NOT NULL,
	profile_views INT4 DEFAULT '0' NOT NULL CHECK (profile_views >= 0),
	profile_last_change INT4 DEFAULT '0' NOT NULL CHECK (profile_last_change >= 0),
	PRIMARY KEY (user_id)
);


/*
	Table: 'phpbb_sn_im'
*/
CREATE TABLE phpbb_sn_im (
	uid_from INT4 DEFAULT '0' NOT NULL CHECK (uid_from >= 0),
	uid_to INT4 DEFAULT '0' NOT NULL CHECK (uid_to >= 0),
	message varchar(8000) DEFAULT '' NOT NULL,
	sent decimal(20,3) DEFAULT '0' NOT NULL,
	recd INT2 DEFAULT '0' NOT NULL CHECK (recd >= 0),
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL
);

CREATE INDEX phpbb_sn_im_a ON phpbb_sn_im (sent);

/*
	Table: 'phpbb_sn_im_chatboxes'
*/
CREATE TABLE phpbb_sn_im_chatboxes (
	uid_from INT4 DEFAULT '0' NOT NULL CHECK (uid_from >= 0),
	uid_to INT4 DEFAULT '0' NOT NULL CHECK (uid_to >= 0),
	username_to varchar(255) DEFAULT '' NOT NULL,
	starttime INT4 DEFAULT '0' NOT NULL CHECK (starttime >= 0)
);

CREATE UNIQUE INDEX phpbb_sn_im_chatboxes_a ON phpbb_sn_im_chatboxes (uid_from, uid_to);
CREATE INDEX phpbb_sn_im_chatboxes_b ON phpbb_sn_im_chatboxes (uid_from, uid_to, starttime);

/*
	Table: 'phpbb_sn_status'
*/
CREATE SEQUENCE phpbb_sn_status_seq;

CREATE TABLE phpbb_sn_status (
	status_id INT4 DEFAULT nextval('phpbb_sn_status_seq'),
	poster_id INT4 DEFAULT '0' NOT NULL CHECK (poster_id >= 0),
	status_time INT4 DEFAULT '0' NOT NULL CHECK (status_time >= 0),
	status_text varchar(8000) DEFAULT '' NOT NULL,
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	page_data varchar(8000) NOT NULL,
	wall_id INT4 DEFAULT '0' NOT NULL CHECK (wall_id >= 0),
	PRIMARY KEY (status_id)
);

CREATE INDEX phpbb_sn_status_b ON phpbb_sn_status (poster_id, status_time);

/*
	Table: 'phpbb_sn_entries'
*/
CREATE SEQUENCE phpbb_sn_entries_seq;

CREATE TABLE phpbb_sn_entries (
	entry_id INT4 DEFAULT nextval('phpbb_sn_entries_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	entry_target INT4 DEFAULT '0' NOT NULL CHECK (entry_target >= 0),
	entry_type INT4 DEFAULT '0' NOT NULL CHECK (entry_type >= 0),
	entry_time INT4 DEFAULT '0' NOT NULL CHECK (entry_time >= 0),
	entry_additionals varchar(8000) DEFAULT '' NOT NULL,
	PRIMARY KEY (entry_id)
);

CREATE INDEX phpbb_sn_entries_a ON phpbb_sn_entries (user_id, entry_target, entry_type, entry_time);

/*
	Table: 'phpbb_sn_notify'
*/
CREATE SEQUENCE phpbb_sn_notify_seq;

CREATE TABLE phpbb_sn_notify (
	ntf_id INT4 DEFAULT nextval('phpbb_sn_notify_seq'),
	ntf_time INT4 DEFAULT '0' NOT NULL CHECK (ntf_time >= 0),
	ntf_type INT2 DEFAULT '0' NOT NULL CHECK (ntf_type >= 0),
	ntf_user INT4 DEFAULT '0' NOT NULL CHECK (ntf_user >= 0),
	ntf_poster INT4 DEFAULT '0' NOT NULL CHECK (ntf_poster >= 0),
	ntf_read INT2 DEFAULT '0' NOT NULL CHECK (ntf_read >= 0),
	ntf_change INT4 DEFAULT '0' NOT NULL CHECK (ntf_change >= 0),
	ntf_data varchar(8000) DEFAULT '' NOT NULL,
	PRIMARY KEY (ntf_id)
);

CREATE INDEX phpbb_sn_notify_a ON phpbb_sn_notify (ntf_read, ntf_user);
CREATE INDEX phpbb_sn_notify_b ON phpbb_sn_notify (ntf_read, ntf_time);
CREATE INDEX phpbb_sn_notify_c ON phpbb_sn_notify (ntf_read, ntf_change);

/*
	Table: 'phpbb_sn_reports'
*/
CREATE SEQUENCE phpbb_sn_reports_seq;

CREATE TABLE phpbb_sn_reports (
	report_id INT4 DEFAULT nextval('phpbb_sn_reports_seq'),
	reason_id INT2 DEFAULT '0' NOT NULL CHECK (reason_id >= 0),
	report_text varchar(8000) DEFAULT '' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	reporter INT4 DEFAULT '0' NOT NULL CHECK (reporter >= 0),
	report_closed INT2 DEFAULT '0' NOT NULL,
	PRIMARY KEY (report_id)
);


/*
	Table: 'phpbb_sn_reports_reasons'
*/
CREATE SEQUENCE phpbb_sn_reports_reasons_seq;

CREATE TABLE phpbb_sn_reports_reasons (
	reason_id INT2 DEFAULT nextval('phpbb_sn_reports_reasons_seq'),
	reason_text varchar(8000) DEFAULT '' NOT NULL,
	PRIMARY KEY (reason_id)
);


/*
	Table: 'phpbb_sn_menu'
*/
CREATE SEQUENCE phpbb_sn_menu_seq;

CREATE TABLE phpbb_sn_menu (
	button_id INT4 DEFAULT nextval('phpbb_sn_menu_seq'),
	button_url varchar(8000) DEFAULT '' NOT NULL,
	button_name varchar(255) DEFAULT '' NOT NULL,
	button_external INT2 DEFAULT '0' NOT NULL CHECK (button_external >= 0),
	button_display INT2 DEFAULT '1' NOT NULL CHECK (button_display >= 0),
	button_only_registered INT2 DEFAULT '0' NOT NULL CHECK (button_only_registered >= 0),
	button_only_guest INT2 DEFAULT '0' NOT NULL CHECK (button_only_guest >= 0),
	left_id INT4 DEFAULT '0' NOT NULL CHECK (left_id >= 0),
	right_id INT4 DEFAULT '0' NOT NULL CHECK (right_id >= 0),
	parent_id INT4 DEFAULT '0' NOT NULL CHECK (parent_id >= 0),
	PRIMARY KEY (button_id)
);

CREATE INDEX phpbb_sn_menu_a ON phpbb_sn_menu (left_id);
CREATE INDEX phpbb_sn_menu_b ON phpbb_sn_menu (right_id);
CREATE INDEX phpbb_sn_menu_c ON phpbb_sn_menu (parent_id);
CREATE INDEX phpbb_sn_menu_d ON phpbb_sn_menu (parent_id);

/*
	Table: 'phpbb_sn_family'
*/
CREATE SEQUENCE phpbb_sn_family_seq;

CREATE TABLE phpbb_sn_family (
	id INT4 DEFAULT nextval('phpbb_sn_family_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	relative_user_id INT4 DEFAULT '0' NOT NULL CHECK (relative_user_id >= 0),
	status_id INT4 DEFAULT '0' NOT NULL CHECK (status_id >= 0),
	approved INT2 DEFAULT '0' NOT NULL,
	anniversary varchar(10) DEFAULT '' NOT NULL,
	family INT2 DEFAULT '0' NOT NULL,
	name varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (id)
);

CREATE INDEX phpbb_sn_family_a ON phpbb_sn_family (user_id);
CREATE INDEX phpbb_sn_family_b ON phpbb_sn_family (relative_user_id);
CREATE INDEX phpbb_sn_family_c ON phpbb_sn_family (status_id);
CREATE INDEX phpbb_sn_family_d ON phpbb_sn_family (approved);

/*
	Table: 'phpbb_sn_profile_visitors'
*/
CREATE TABLE phpbb_sn_profile_visitors (
	profile_uid INT4 DEFAULT '0' NOT NULL CHECK (profile_uid >= 0),
	visitor_uid INT4 DEFAULT '0' NOT NULL CHECK (visitor_uid >= 0),
	visit_time INT4 DEFAULT '0' NOT NULL CHECK (visit_time >= 0)
);

CREATE INDEX phpbb_sn_profile_visitors_a ON phpbb_sn_profile_visitors (profile_uid);
CREATE INDEX phpbb_sn_profile_visitors_b ON phpbb_sn_profile_visitors (visitor_uid);
CREATE INDEX phpbb_sn_profile_visitors_c ON phpbb_sn_profile_visitors (visit_time);

/*
	Table: 'phpbb_sn_fms_groups'
*/
CREATE SEQUENCE phpbb_sn_fms_groups_seq;

CREATE TABLE phpbb_sn_fms_groups (
	fms_gid INT4 DEFAULT nextval('phpbb_sn_fms_groups_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	fms_name varchar(255) DEFAULT '' NOT NULL,
	fms_clean varchar(255) DEFAULT '' NOT NULL,
	fms_collapse INT2 DEFAULT '0' NOT NULL CHECK (fms_collapse >= 0)
);

CREATE UNIQUE INDEX phpbb_sn_fms_groups_a ON phpbb_sn_fms_groups (user_id, fms_name);
CREATE INDEX phpbb_sn_fms_groups_b ON phpbb_sn_fms_groups (fms_gid, user_id);
CREATE INDEX phpbb_sn_fms_groups_c ON phpbb_sn_fms_groups (user_id);
CREATE INDEX phpbb_sn_fms_groups_d ON phpbb_sn_fms_groups (fms_gid, user_id, fms_clean);
CREATE INDEX phpbb_sn_fms_groups_e ON phpbb_sn_fms_groups (fms_gid, user_id, fms_clean, fms_collapse);
CREATE UNIQUE INDEX phpbb_sn_fms_groups_f ON phpbb_sn_fms_groups (user_id, fms_clean);

/*
	Table: 'phpbb_sn_fms_users_group'
*/
CREATE TABLE phpbb_sn_fms_users_group (
	fms_gid INT4 DEFAULT '0' NOT NULL CHECK (fms_gid >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	owner_id INT4 DEFAULT '0' NOT NULL CHECK (owner_id >= 0),
	PRIMARY KEY (fms_gid, user_id, owner_id)
);

CREATE INDEX phpbb_sn_fms_users_group_a ON phpbb_sn_fms_users_group (user_id);
CREATE INDEX phpbb_sn_fms_users_group_b ON phpbb_sn_fms_users_group (fms_gid);
CREATE INDEX phpbb_sn_fms_users_group_c ON phpbb_sn_fms_users_group (fms_gid, owner_id);

/*
	Table: 'phpbb_sn_comments_modules'
*/
CREATE SEQUENCE phpbb_sn_comments_modules_seq;

CREATE TABLE phpbb_sn_comments_modules (
	cmtmd_id INT4 DEFAULT nextval('phpbb_sn_comments_modules_seq'),
	cmtmd_name varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (cmtmd_id, cmtmd_name)
);

CREATE UNIQUE INDEX phpbb_sn_comments_modules_a ON phpbb_sn_comments_modules (cmtmd_name);

/*
	Table: 'phpbb_sn_comments'
*/
CREATE SEQUENCE phpbb_sn_comments_seq;

CREATE TABLE phpbb_sn_comments (
	cmt_id INT4 DEFAULT nextval('phpbb_sn_comments_seq'),
	cmt_module INT4 DEFAULT '0' NOT NULL CHECK (cmt_module >= 0),
	cmt_time INT4 DEFAULT '0' NOT NULL CHECK (cmt_time >= 0),
	cmt_mid INT4 DEFAULT '0' NOT NULL CHECK (cmt_mid >= 0),
	cmt_poster INT4 DEFAULT '0' NOT NULL CHECK (cmt_poster >= 0),
	cmt_text varchar(8000) DEFAULT '' NOT NULL,
	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	PRIMARY KEY (cmt_id, cmt_module, cmt_mid)
);

CREATE INDEX phpbb_sn_comments_a ON phpbb_sn_comments (cmt_module);
CREATE INDEX phpbb_sn_comments_b ON phpbb_sn_comments (cmt_time);
CREATE INDEX phpbb_sn_comments_c ON phpbb_sn_comments (cmt_module, cmt_mid);
CREATE INDEX phpbb_sn_comments_d ON phpbb_sn_comments (cmt_module, cmt_mid, cmt_time);
CREATE INDEX phpbb_sn_comments_e ON phpbb_sn_comments (cmt_module, cmt_mid, cmt_time, cmt_poster);

/*
	Table: 'phpbb_sn_emotes'
*/
CREATE SEQUENCE phpbb_sn_emotes_seq;

CREATE TABLE phpbb_sn_emotes (
	emote_id INT4 DEFAULT nextval('phpbb_sn_emotes_seq'),
	emote_name varchar(255) DEFAULT '' NOT NULL,
	emote_image varchar(255) DEFAULT '' NOT NULL,
	emote_order INT4 DEFAULT '0' NOT NULL CHECK (emote_order >= 0),
	PRIMARY KEY (emote_id)
);

CREATE UNIQUE INDEX phpbb_sn_emotes_u ON phpbb_sn_emotes (emote_name);
CREATE INDEX phpbb_sn_emotes_a ON phpbb_sn_emotes (emote_name, emote_order);
CREATE INDEX phpbb_sn_emotes_b ON phpbb_sn_emotes (emote_order);

/*
	Table: 'phpbb_sn_addons_placeholder'
*/
CREATE SEQUENCE phpbb_sn_addons_placeholder_seq;

CREATE TABLE phpbb_sn_addons_placeholder (
	ph_id INT4 DEFAULT nextval('phpbb_sn_addons_placeholder_seq'),
	ph_script varchar(64) DEFAULT '' NOT NULL,
	ph_block varchar(16) DEFAULT '' NOT NULL,
	PRIMARY KEY (ph_id)
);

CREATE UNIQUE INDEX phpbb_sn_addons_placeholder_u ON phpbb_sn_addons_placeholder (ph_script, ph_block);
CREATE INDEX phpbb_sn_addons_placeholder_a ON phpbb_sn_addons_placeholder (ph_script);
CREATE INDEX phpbb_sn_addons_placeholder_b ON phpbb_sn_addons_placeholder (ph_block);

/*
	Table: 'phpbb_sn_addons'
*/
CREATE SEQUENCE phpbb_sn_addons_seq;

CREATE TABLE phpbb_sn_addons (
	addon_id INT4 DEFAULT nextval('phpbb_sn_addons_seq'),
	addon_placeholder INT4 DEFAULT '0' NOT NULL CHECK (addon_placeholder >= 0),
	addon_name varchar(64) DEFAULT '' NOT NULL,
	addon_php varchar(32) DEFAULT '' NOT NULL,
	addon_function varchar(32) DEFAULT '' NOT NULL,
	addon_active INT2 DEFAULT '0' NOT NULL CHECK (addon_active >= 0),
	addon_order INT4 DEFAULT '0' NOT NULL CHECK (addon_order >= 0),
	PRIMARY KEY (addon_id)
);

CREATE UNIQUE INDEX phpbb_sn_addons_u ON phpbb_sn_addons (addon_placeholder, addon_name, addon_php, addon_function);
CREATE INDEX phpbb_sn_addons_a ON phpbb_sn_addons (addon_name, addon_php, addon_active);
CREATE INDEX phpbb_sn_addons_b ON phpbb_sn_addons (addon_order);

/*
	Table: 'phpbb_sn_smilies'
*/
CREATE TABLE phpbb_sn_smilies (
	smiley_id INT4 DEFAULT '0' NOT NULL CHECK (smiley_id >= 0),
	smiley_allowed INT2 DEFAULT '0' NOT NULL,
	PRIMARY KEY (smiley_id)
);


/*
	Table: 'phpbb_sortables_answers'
*/
CREATE SEQUENCE phpbb_sortables_answers_seq;

CREATE TABLE phpbb_sortables_answers (
	answer_id INT4 DEFAULT nextval('phpbb_sortables_answers_seq'),
	question_id INT4 DEFAULT '0' NOT NULL CHECK (question_id >= 0),
	answer_sort INT2 DEFAULT '0' NOT NULL CHECK (answer_sort >= 0),
	answer_text varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (answer_id)
);

CREATE INDEX phpbb_sortables_answers_qid ON phpbb_sortables_answers (question_id);
CREATE INDEX phpbb_sortables_answers_asort ON phpbb_sortables_answers (answer_sort);

/*
	Table: 'phpbb_sortables_confirm'
*/
CREATE TABLE phpbb_sortables_confirm (
	session_id char(32) DEFAULT '' NOT NULL,
	confirm_id char(32) DEFAULT '' NOT NULL,
	lang_iso varchar(30) DEFAULT '' NOT NULL,
	question_id INT4 DEFAULT '0' NOT NULL CHECK (question_id >= 0),
	attempts INT4 DEFAULT '0' NOT NULL CHECK (attempts >= 0),
	confirm_type INT2 DEFAULT '0' NOT NULL CHECK (confirm_type >= 0),
	PRIMARY KEY (confirm_id)
);

CREATE INDEX phpbb_sortables_confirm_sid ON phpbb_sortables_confirm (session_id);
CREATE INDEX phpbb_sortables_confirm_lookup ON phpbb_sortables_confirm (confirm_id, session_id, lang_iso);

/*
	Table: 'phpbb_sortables_questions'
*/
CREATE SEQUENCE phpbb_sortables_questions_seq;

CREATE TABLE phpbb_sortables_questions (
	question_id INT4 DEFAULT nextval('phpbb_sortables_questions_seq'),
	sort INT2 DEFAULT '0' NOT NULL CHECK (sort >= 0),
	lang_id INT4 DEFAULT '0' NOT NULL CHECK (lang_id >= 0),
	lang_iso varchar(30) DEFAULT '' NOT NULL,
	question_text varchar(4000) DEFAULT '' NOT NULL,
	name_left varchar(255) DEFAULT '0' NOT NULL,
	name_right varchar(255) DEFAULT '0' NOT NULL,
	PRIMARY KEY (question_id)
);

CREATE INDEX phpbb_sortables_questions_iso ON phpbb_sortables_questions (lang_iso);

/*
	Table: 'phpbb_spam_log'
*/
CREATE SEQUENCE phpbb_spam_log_seq;

CREATE TABLE phpbb_spam_log (
	log_id INT4 DEFAULT nextval('phpbb_spam_log_seq'),
	log_type INT2 DEFAULT '1' NOT NULL,
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	reportee_id INT4 DEFAULT '0' NOT NULL CHECK (reportee_id >= 0),
	log_ip varchar(40) DEFAULT '' NOT NULL,
	log_time INT4 DEFAULT '0' NOT NULL CHECK (log_time >= 0),
	log_operation varchar(4000) DEFAULT '' NOT NULL,
	log_data TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (log_id)
);

CREATE INDEX phpbb_spam_log_log_type ON phpbb_spam_log (log_type);
CREATE INDEX phpbb_spam_log_forum_id ON phpbb_spam_log (forum_id);
CREATE INDEX phpbb_spam_log_topic_id ON phpbb_spam_log (topic_id);
CREATE INDEX phpbb_spam_log_reportee_id ON phpbb_spam_log (reportee_id);
CREATE INDEX phpbb_spam_log_user_id ON phpbb_spam_log (user_id);

/*
	Table: 'phpbb_spam_words'
*/
CREATE SEQUENCE phpbb_spam_words_seq;

CREATE TABLE phpbb_spam_words (
	word_id INT4 DEFAULT nextval('phpbb_spam_words_seq'),
	word_text varchar(255) DEFAULT '' NOT NULL,
	word_regex INT2 DEFAULT '0' NOT NULL CHECK (word_regex >= 0),
	word_regex_auto INT2 DEFAULT '0' NOT NULL CHECK (word_regex_auto >= 0),
	PRIMARY KEY (word_id)
);

CREATE INDEX phpbb_spam_words_word_text ON phpbb_spam_words (word_text);

/*
	Table: 'phpbb_styles'
*/
CREATE SEQUENCE phpbb_styles_seq;

CREATE TABLE phpbb_styles (
	style_id INT4 DEFAULT nextval('phpbb_styles_seq'),
	style_name varchar(255) DEFAULT '' NOT NULL,
	style_copyright varchar(255) DEFAULT '' NOT NULL,
	style_active INT2 DEFAULT '1' NOT NULL CHECK (style_active >= 0),
	template_id INT4 DEFAULT '0' NOT NULL CHECK (template_id >= 0),
	theme_id INT4 DEFAULT '0' NOT NULL CHECK (theme_id >= 0),
	imageset_id INT4 DEFAULT '0' NOT NULL CHECK (imageset_id >= 0),
	PRIMARY KEY (style_id)
);

CREATE UNIQUE INDEX phpbb_styles_style_name ON phpbb_styles (style_name);
CREATE INDEX phpbb_styles_template_id ON phpbb_styles (template_id);
CREATE INDEX phpbb_styles_theme_id ON phpbb_styles (theme_id);
CREATE INDEX phpbb_styles_imageset_id ON phpbb_styles (imageset_id);

/*
	Table: 'phpbb_styles_template'
*/
CREATE SEQUENCE phpbb_styles_template_seq;

CREATE TABLE phpbb_styles_template (
	template_id INT4 DEFAULT nextval('phpbb_styles_template_seq'),
	template_name varchar(255) DEFAULT '' NOT NULL,
	template_copyright varchar(255) DEFAULT '' NOT NULL,
	template_path varchar(100) DEFAULT '' NOT NULL,
	bbcode_bitfield varchar(255) DEFAULT 'kNg=' NOT NULL,
	template_storedb INT2 DEFAULT '0' NOT NULL CHECK (template_storedb >= 0),
	template_inherits_id INT4 DEFAULT '0' NOT NULL CHECK (template_inherits_id >= 0),
	template_inherit_path varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (template_id)
);

CREATE UNIQUE INDEX phpbb_styles_template_tmplte_nm ON phpbb_styles_template (template_name);

/*
	Table: 'phpbb_styles_template_data'
*/
CREATE TABLE phpbb_styles_template_data (
	template_id INT4 DEFAULT '0' NOT NULL CHECK (template_id >= 0),
	template_filename varchar(100) DEFAULT '' NOT NULL,
	template_included varchar(8000) DEFAULT '' NOT NULL,
	template_mtime INT4 DEFAULT '0' NOT NULL CHECK (template_mtime >= 0),
	template_data TEXT DEFAULT '' NOT NULL
);

CREATE INDEX phpbb_styles_template_data_tid ON phpbb_styles_template_data (template_id);
CREATE INDEX phpbb_styles_template_data_tfn ON phpbb_styles_template_data (template_filename);

/*
	Table: 'phpbb_styles_theme'
*/
CREATE SEQUENCE phpbb_styles_theme_seq;

CREATE TABLE phpbb_styles_theme (
	theme_id INT4 DEFAULT nextval('phpbb_styles_theme_seq'),
	theme_name varchar(255) DEFAULT '' NOT NULL,
	theme_copyright varchar(255) DEFAULT '' NOT NULL,
	theme_path varchar(100) DEFAULT '' NOT NULL,
	theme_storedb INT2 DEFAULT '0' NOT NULL CHECK (theme_storedb >= 0),
	theme_mtime INT4 DEFAULT '0' NOT NULL CHECK (theme_mtime >= 0),
	theme_data TEXT DEFAULT '' NOT NULL,
	PRIMARY KEY (theme_id)
);

CREATE UNIQUE INDEX phpbb_styles_theme_theme_name ON phpbb_styles_theme (theme_name);

/*
	Table: 'phpbb_styles_imageset'
*/
CREATE SEQUENCE phpbb_styles_imageset_seq;

CREATE TABLE phpbb_styles_imageset (
	imageset_id INT4 DEFAULT nextval('phpbb_styles_imageset_seq'),
	imageset_name varchar(255) DEFAULT '' NOT NULL,
	imageset_copyright varchar(255) DEFAULT '' NOT NULL,
	imageset_path varchar(100) DEFAULT '' NOT NULL,
	PRIMARY KEY (imageset_id)
);

CREATE UNIQUE INDEX phpbb_styles_imageset_imgset_nm ON phpbb_styles_imageset (imageset_name);

/*
	Table: 'phpbb_styles_imageset_data'
*/
CREATE SEQUENCE phpbb_styles_imageset_data_seq;

CREATE TABLE phpbb_styles_imageset_data (
	image_id INT4 DEFAULT nextval('phpbb_styles_imageset_data_seq'),
	image_name varchar(200) DEFAULT '' NOT NULL,
	image_filename varchar(200) DEFAULT '' NOT NULL,
	image_lang varchar(30) DEFAULT '' NOT NULL,
	image_height INT2 DEFAULT '0' NOT NULL CHECK (image_height >= 0),
	image_width INT2 DEFAULT '0' NOT NULL CHECK (image_width >= 0),
	imageset_id INT4 DEFAULT '0' NOT NULL CHECK (imageset_id >= 0),
	PRIMARY KEY (image_id)
);

CREATE INDEX phpbb_styles_imageset_data_i_d ON phpbb_styles_imageset_data (imageset_id);

/*
	Table: 'phpbb_topics'
*/
CREATE SEQUENCE phpbb_topics_seq;

CREATE TABLE phpbb_topics (
	topic_id INT4 DEFAULT nextval('phpbb_topics_seq'),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	icon_id INT4 DEFAULT '0' NOT NULL CHECK (icon_id >= 0),
	topic_attachment INT2 DEFAULT '0' NOT NULL CHECK (topic_attachment >= 0),
	topic_approved INT2 DEFAULT '1' NOT NULL CHECK (topic_approved >= 0),
	topic_reported INT2 DEFAULT '0' NOT NULL CHECK (topic_reported >= 0),
	topic_title varchar(255) DEFAULT '' NOT NULL,
	topic_poster INT4 DEFAULT '0' NOT NULL CHECK (topic_poster >= 0),
	topic_time INT4 DEFAULT '0' NOT NULL CHECK (topic_time >= 0),
	topic_time_limit INT4 DEFAULT '0' NOT NULL CHECK (topic_time_limit >= 0),
	topic_views INT4 DEFAULT '0' NOT NULL CHECK (topic_views >= 0),
	topic_replies INT4 DEFAULT '0' NOT NULL CHECK (topic_replies >= 0),
	topic_replies_real INT4 DEFAULT '0' NOT NULL CHECK (topic_replies_real >= 0),
	topic_status INT2 DEFAULT '0' NOT NULL,
	topic_type INT2 DEFAULT '0' NOT NULL,
	topic_first_post_id INT4 DEFAULT '0' NOT NULL CHECK (topic_first_post_id >= 0),
	topic_first_poster_name varchar(255) DEFAULT '' NOT NULL,
	topic_first_poster_colour varchar(6) DEFAULT '' NOT NULL,
	topic_last_post_id INT4 DEFAULT '0' NOT NULL CHECK (topic_last_post_id >= 0),
	topic_last_poster_id INT4 DEFAULT '0' NOT NULL CHECK (topic_last_poster_id >= 0),
	topic_last_poster_name varchar(255) DEFAULT '' NOT NULL,
	topic_last_poster_colour varchar(6) DEFAULT '' NOT NULL,
	topic_last_post_subject varchar(255) DEFAULT '' NOT NULL,
	topic_last_post_time INT4 DEFAULT '0' NOT NULL CHECK (topic_last_post_time >= 0),
	topic_last_view_time INT4 DEFAULT '0' NOT NULL CHECK (topic_last_view_time >= 0),
	topic_moved_id INT4 DEFAULT '0' NOT NULL CHECK (topic_moved_id >= 0),
	topic_bumped INT2 DEFAULT '0' NOT NULL CHECK (topic_bumped >= 0),
	topic_bumper INT4 DEFAULT '0' NOT NULL CHECK (topic_bumper >= 0),
	poll_title varchar(255) DEFAULT '' NOT NULL,
	poll_start INT4 DEFAULT '0' NOT NULL CHECK (poll_start >= 0),
	poll_length INT4 DEFAULT '0' NOT NULL CHECK (poll_length >= 0),
	poll_max_options INT2 DEFAULT '1' NOT NULL,
	poll_last_vote INT4 DEFAULT '0' NOT NULL CHECK (poll_last_vote >= 0),
	poll_vote_change INT2 DEFAULT '0' NOT NULL CHECK (poll_vote_change >= 0),
	topic_calendar_time INT4 DEFAULT NULL CHECK (topic_calendar_time >= 0),
	topic_calendar_duration INT4 DEFAULT NULL CHECK (topic_calendar_duration >= 0),
	event_repeat VARCHAR(8) DEFAULT '' NOT NULL,
	invite_attendees INT2 DEFAULT 0 NOT NULL CHECK (invite_attendees >= 0),
	event_attendees TEXT,
	event_non_attendees TEXT,
	topic_first_post_show INT2 DEFAULT '0' NOT NULL CHECK (topic_first_post_show >= 0),
	PRIMARY KEY (topic_id)
);

CREATE INDEX phpbb_topics_forum_id ON phpbb_topics (forum_id);
CREATE INDEX phpbb_topics_forum_id_type ON phpbb_topics (forum_id, topic_type);
CREATE INDEX phpbb_topics_last_post_time ON phpbb_topics (topic_last_post_time);
CREATE INDEX phpbb_topics_topic_approved ON phpbb_topics (topic_approved);
CREATE INDEX phpbb_topics_forum_appr_last ON phpbb_topics (forum_id, topic_approved, topic_last_post_id);
CREATE INDEX phpbb_topics_fid_time_moved ON phpbb_topics (forum_id, topic_last_post_time, topic_moved_id);

/*
	Table: 'phpbb_topics_track'
*/
CREATE TABLE phpbb_topics_track (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
	mark_time INT4 DEFAULT '0' NOT NULL CHECK (mark_time >= 0),
	PRIMARY KEY (user_id, topic_id)
);

CREATE INDEX phpbb_topics_track_topic_id ON phpbb_topics_track (topic_id);
CREATE INDEX phpbb_topics_track_forum_id ON phpbb_topics_track (forum_id);

/*
	Table: 'phpbb_topics_posted'
*/
CREATE TABLE phpbb_topics_posted (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	topic_posted INT2 DEFAULT '0' NOT NULL CHECK (topic_posted >= 0),
	PRIMARY KEY (user_id, topic_id)
);


/*
	Table: 'phpbb_topics_watch'
*/
CREATE TABLE phpbb_topics_watch (
	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	notify_status INT2 DEFAULT '0' NOT NULL CHECK (notify_status >= 0)
);

CREATE INDEX phpbb_topics_watch_topic_id ON phpbb_topics_watch (topic_id);
CREATE INDEX phpbb_topics_watch_user_id ON phpbb_topics_watch (user_id);
CREATE INDEX phpbb_topics_watch_notify_stat ON phpbb_topics_watch (notify_status);

/*
	Table: 'phpbb_user_group'
*/
CREATE TABLE phpbb_user_group (
	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	group_leader INT2 DEFAULT '0' NOT NULL CHECK (group_leader >= 0),
	user_pending INT2 DEFAULT '1' NOT NULL CHECK (user_pending >= 0)
);

CREATE INDEX phpbb_user_group_group_id ON phpbb_user_group (group_id);
CREATE INDEX phpbb_user_group_user_id ON phpbb_user_group (user_id);
CREATE INDEX phpbb_user_group_group_leader ON phpbb_user_group (group_leader);

/*
	Table: 'phpbb_users'
*/
CREATE SEQUENCE phpbb_users_seq;

CREATE TABLE phpbb_users (
	user_id INT4 DEFAULT nextval('phpbb_users_seq'),
	user_type INT2 DEFAULT '0' NOT NULL,
	group_id INT4 DEFAULT '3' NOT NULL CHECK (group_id >= 0),
	username varchar_ci DEFAULT '' NOT NULL,
	username_clean varchar_ci DEFAULT '' NOT NULL,
	user_regdate INT4 DEFAULT '0' NOT NULL CHECK (user_regdate >= 0),
	user_password varchar(40) DEFAULT '' NOT NULL,
	user_email varchar(100) DEFAULT '' NOT NULL,
	user_lang varchar(30) DEFAULT '' NOT NULL,
	user_style INT4 DEFAULT '0' NOT NULL CHECK (user_style >= 0),
	user_rank INT4 DEFAULT '0' NOT NULL CHECK (user_rank >= 0),
	user_colour varchar(6) DEFAULT '' NOT NULL,
	user_posts INT4 DEFAULT '0' NOT NULL CHECK (user_posts >= 0),
	user_permissions TEXT DEFAULT '' NOT NULL,
	user_ip varchar(40) DEFAULT '' NOT NULL,
	user_birthday varchar(10) DEFAULT '' NOT NULL,
	user_lastpage varchar(200) DEFAULT '' NOT NULL,
	user_last_confirm_key varchar(10) DEFAULT '' NOT NULL,
	user_post_sortby_type varchar(1) DEFAULT 't' NOT NULL,
	user_post_sortby_dir varchar(1) DEFAULT 'a' NOT NULL,
	user_topic_sortby_type varchar(1) DEFAULT 't' NOT NULL,
	user_topic_sortby_dir varchar(1) DEFAULT 'd' NOT NULL,
	user_avatar varchar(255) DEFAULT '' NOT NULL,
	user_sig TEXT DEFAULT '' NOT NULL,
	user_sig_bbcode_uid varchar(8) DEFAULT '' NOT NULL,
	user_from varchar(100) DEFAULT '' NOT NULL,
	user_icq varchar(15) DEFAULT '' NOT NULL,
	user_aim varchar(255) DEFAULT '' NOT NULL,
	user_yim varchar(255) DEFAULT '' NOT NULL,
	user_msnm varchar(255) DEFAULT '' NOT NULL,
	user_jabber varchar(255) DEFAULT '' NOT NULL,
	user_website varchar(200) DEFAULT '' NOT NULL,
	user_occ varchar(4000) DEFAULT '' NOT NULL,
	user_interests varchar(4000) DEFAULT '' NOT NULL,
	user_actkey varchar(32) DEFAULT '' NOT NULL,
	user_newpasswd varchar(40) DEFAULT '' NOT NULL,
	user_allow_massemail INT2 DEFAULT '1' NOT NULL CHECK (user_allow_massemail >= 0),
	user_perm_from INT4 DEFAULT '0' NOT NULL CHECK (user_perm_from >= 0),
	user_passchg INT4 DEFAULT '0' NOT NULL CHECK (user_passchg >= 0),
	user_pass_convert INT2 DEFAULT '0' NOT NULL CHECK (user_pass_convert >= 0),
	user_email_hash INT8 DEFAULT '0' NOT NULL,
	user_lastvisit INT4 DEFAULT '0' NOT NULL CHECK (user_lastvisit >= 0),
	user_lastmark INT4 DEFAULT '0' NOT NULL CHECK (user_lastmark >= 0),
	user_lastpost_time INT4 DEFAULT '0' NOT NULL CHECK (user_lastpost_time >= 0),
	user_last_search INT4 DEFAULT '0' NOT NULL CHECK (user_last_search >= 0),
	user_warnings INT2 DEFAULT '0' NOT NULL,
	user_last_warning INT4 DEFAULT '0' NOT NULL CHECK (user_last_warning >= 0),
	user_login_attempts INT2 DEFAULT '0' NOT NULL,
	user_inactive_reason INT2 DEFAULT '0' NOT NULL,
	user_inactive_time INT4 DEFAULT '0' NOT NULL CHECK (user_inactive_time >= 0),
	user_timezone decimal(5,2) DEFAULT '0' NOT NULL,
	user_dst INT2 DEFAULT '0' NOT NULL CHECK (user_dst >= 0),
	user_dateformat varchar(30) DEFAULT 'd M Y H:i' NOT NULL,
	user_new_privmsg INT4 DEFAULT '0' NOT NULL,
	user_unread_privmsg INT4 DEFAULT '0' NOT NULL,
	user_last_privmsg INT4 DEFAULT '0' NOT NULL CHECK (user_last_privmsg >= 0),
	user_message_rules INT2 DEFAULT '0' NOT NULL CHECK (user_message_rules >= 0),
	user_full_folder INT4 DEFAULT '-3' NOT NULL,
	user_emailtime INT4 DEFAULT '0' NOT NULL CHECK (user_emailtime >= 0),
	user_topic_show_days INT2 DEFAULT '0' NOT NULL CHECK (user_topic_show_days >= 0),
	user_post_show_days INT2 DEFAULT '0' NOT NULL CHECK (user_post_show_days >= 0),
	user_notify INT2 DEFAULT '0' NOT NULL CHECK (user_notify >= 0),
	user_notify_pm INT2 DEFAULT '1' NOT NULL CHECK (user_notify_pm >= 0),
	user_notify_type INT2 DEFAULT '0' NOT NULL,
	user_allow_pm INT2 DEFAULT '1' NOT NULL CHECK (user_allow_pm >= 0),
	user_allow_viewonline INT2 DEFAULT '1' NOT NULL CHECK (user_allow_viewonline >= 0),
	user_allow_viewemail INT2 DEFAULT '1' NOT NULL CHECK (user_allow_viewemail >= 0),
	user_options INT4 DEFAULT '230271' NOT NULL CHECK (user_options >= 0),
	user_avatar_type INT2 DEFAULT '0' NOT NULL,
	user_avatar_width INT2 DEFAULT '0' NOT NULL CHECK (user_avatar_width >= 0),
	user_avatar_height INT2 DEFAULT '0' NOT NULL CHECK (user_avatar_height >= 0),
	user_sig_bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
	user_form_salt varchar(32) DEFAULT '' NOT NULL,
	user_new INT2 DEFAULT '1' NOT NULL CHECK (user_new >= 0),
	user_reminded INT2 DEFAULT '0' NOT NULL,
	user_reminded_time INT4 DEFAULT '0' NOT NULL CHECK (user_reminded_time >= 0),
	user_left_blocks varchar_ci DEFAULT '' NOT NULL,
	user_center_blocks varchar_ci DEFAULT '' NOT NULL,
	user_right_blocks varchar_ci DEFAULT '' NOT NULL,
	user_flagged INT2 DEFAULT '0' NOT NULL CHECK (user_flagged >= 0),
	user_flag_new INT2 DEFAULT '0' NOT NULL CHECK (user_flag_new >= 0),
	user_im3_config INT4 DEFAULT '1743781891' NOT NULL CHECK (user_im3_config >= 0),
	user_allow_fav_download_email INT2 DEFAULT '1' NOT NULL CHECK (user_allow_fav_download_email >= 0),
	user_allow_fav_download_popup INT2 DEFAULT '1' NOT NULL CHECK (user_allow_fav_download_popup >= 0),
	user_allow_new_download_email INT2 DEFAULT '0' NOT NULL CHECK (user_allow_new_download_email >= 0),
	user_allow_new_download_popup INT2 DEFAULT '1' NOT NULL CHECK (user_allow_new_download_popup >= 0),
	user_dl_note_type INT2 DEFAULT '1' NOT NULL CHECK (user_dl_note_type >= 0),
	user_dl_sort_dir INT2 DEFAULT '0' NOT NULL CHECK (user_dl_sort_dir >= 0),
	user_dl_sort_fix INT2 DEFAULT '0' NOT NULL CHECK (user_dl_sort_fix >= 0),
	user_dl_sort_opt INT2 DEFAULT '0' NOT NULL CHECK (user_dl_sort_opt >= 0),
	user_dl_sub_on_index INT2 DEFAULT '1' NOT NULL CHECK (user_dl_sub_on_index >= 0),
	user_dl_update_time INT4 DEFAULT '0' NOT NULL CHECK (user_dl_update_time >= 0),
	user_new_download INT2 DEFAULT '0' NOT NULL CHECK (user_new_download >= 0),
	user_traffic INT8 DEFAULT '0' NOT NULL,
	user_allow_fav_comment_email INT2 DEFAULT '1' NOT NULL CHECK (user_allow_fav_comment_email >= 0),
	user_popup_notes INT2 DEFAULT '0' NOT NULL CHECK (user_popup_notes >= 0),
	user_mchat_index INT2 DEFAULT '1' NOT NULL CHECK (user_mchat_index >= 0),
	user_mchat_portal INT2 DEFAULT '1' NOT NULL CHECK (user_mchat_portal >= 0),
	user_mchat_sound INT2 DEFAULT '1' NOT NULL CHECK (user_mchat_sound >= 0),
	user_mchat_stats_index INT2 DEFAULT '1' NOT NULL CHECK (user_mchat_stats_index >= 0),
	user_mchat_topics INT2 DEFAULT '1' NOT NULL CHECK (user_mchat_topics >= 0),
	user_mchat_avatars INT2 DEFAULT '1' NOT NULL CHECK (user_mchat_avatars >= 0),
	user_mchat_input_area INT2 DEFAULT '1' NOT NULL CHECK (user_mchat_input_area >= 0),
	ad_owner INT2 DEFAULT '0' NOT NULL CHECK (ad_owner >= 0),
	user_digest_new_posts_only INT2 DEFAULT '0' NOT NULL,
	user_digest_ever_unsubscribed INT2 DEFAULT '0' NOT NULL,
	user_digest_no_post_text INT2 DEFAULT '0' NOT NULL,
	user_digest_filter_type varchar(3) DEFAULT 'ALL' NOT NULL,
	user_digest_format varchar(4) DEFAULT 'HTML' NOT NULL,
	user_digest_max_display_words INT4 DEFAULT '0' NOT NULL CHECK (user_digest_max_display_words >= 0),
	user_digest_max_posts INT4 DEFAULT '0' NOT NULL CHECK (user_digest_max_posts >= 0),
	user_digest_min_words INT4 DEFAULT '0' NOT NULL CHECK (user_digest_min_words >= 0),
	user_digest_pm_mark_read INT2 DEFAULT '0' NOT NULL,
	user_digest_remove_foes INT2 DEFAULT '0' NOT NULL,
	user_digest_reset_lastvisit INT2 DEFAULT '1' NOT NULL,
	user_digest_send_hour_gmt decimal(5,2) DEFAULT '0' NOT NULL,
	user_digest_send_on_no_posts INT2 DEFAULT '0' NOT NULL,
	user_digest_show_mine INT2 DEFAULT '1' NOT NULL,
	user_digest_show_pms INT2 DEFAULT '1' NOT NULL,
	user_digest_sortby varchar(13) DEFAULT 'board' NOT NULL,
	user_digest_type varchar(4) DEFAULT 'NONE' NOT NULL,
	user_digest_has_unsubscribed INT2 DEFAULT '0' NOT NULL,
	user_digest_attachments INT2 DEFAULT '1' NOT NULL,
	user_digest_block_images INT2 DEFAULT '0' NOT NULL,
	user_digest_toc INT2 DEFAULT '0' NOT NULL,
	user_digest_last_sent INT4 DEFAULT '0' NOT NULL CHECK (user_digest_last_sent >= 0),
	user_abbcode_mod INT2 DEFAULT '1' NOT NULL CHECK (user_abbcode_mod >= 0),
	user_abbcode_compact INT2 DEFAULT '0' NOT NULL CHECK (user_abbcode_compact >= 0),
	user_points decimal(20,2) DEFAULT '0' NOT NULL,
	user_lastrefresh INT4 DEFAULT '0' NOT NULL,
	show_likes INT2 DEFAULT '1' NOT NULL,
	blog_count INT4 DEFAULT '0' NOT NULL CHECK (blog_count >= 0),
	PRIMARY KEY (user_id)
);

CREATE INDEX phpbb_users_user_birthday ON phpbb_users (user_birthday);
CREATE INDEX phpbb_users_user_email_hash ON phpbb_users (user_email_hash);
CREATE INDEX phpbb_users_user_type ON phpbb_users (user_type);
CREATE UNIQUE INDEX phpbb_users_username_clean ON phpbb_users (username_clean);

/*
	Table: 'phpbb_warnings'
*/
CREATE SEQUENCE phpbb_warnings_seq;

CREATE TABLE phpbb_warnings (
	warning_id INT4 DEFAULT nextval('phpbb_warnings_seq'),
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	post_id INT4 DEFAULT '0' NOT NULL CHECK (post_id >= 0),
	log_id INT4 DEFAULT '0' NOT NULL CHECK (log_id >= 0),
	warning_time INT4 DEFAULT '0' NOT NULL CHECK (warning_time >= 0),
	PRIMARY KEY (warning_id)
);


/*
	Table: 'phpbb_words'
*/
CREATE SEQUENCE phpbb_words_seq;

CREATE TABLE phpbb_words (
	word_id INT4 DEFAULT nextval('phpbb_words_seq'),
	word varchar(255) DEFAULT '' NOT NULL,
	replacement varchar(255) DEFAULT '' NOT NULL,
	PRIMARY KEY (word_id)
);


/*
	Table: 'phpbb_zebra'
*/
CREATE TABLE phpbb_zebra (
	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
	zebra_id INT4 DEFAULT '0' NOT NULL CHECK (zebra_id >= 0),
	friend INT2 DEFAULT '0' NOT NULL CHECK (friend >= 0),
	foe INT2 DEFAULT '0' NOT NULL CHECK (foe >= 0),
	approval INT2 DEFAULT '0' NOT NULL CHECK (approval >= 0),
	PRIMARY KEY (user_id, zebra_id)
);

CREATE INDEX phpbb_zebra_c ON phpbb_zebra (user_id);


COMMIT;